!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("THREE"));else if("function"==typeof define&&define.amd)define(["THREE"],e);else{var n="object"==typeof exports?e(require("THREE")):e(t.THREE);for(var s in n)("object"==typeof exports?exports:t)[s]=n[s]}}(self,(t=>(()=>{var e={570:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Pathfinding:()=>a,PathfindingHelper:()=>h});var s=n(612);class o{static roundNumber(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}static sample(t){return t[Math.floor(Math.random()*t.length)]}static distanceToSquared(t,e){var n=t.x-e.x,s=t.y-e.y,o=t.z-e.z;return n*n+s*s+o*o}static isPointInPoly(t,e){for(var n=!1,s=-1,o=t.length,i=o-1;++s<o;i=s)(t[s].z<=e.z&&e.z<t[i].z||t[i].z<=e.z&&e.z<t[s].z)&&e.x<(t[i].x-t[s].x)*(e.z-t[s].z)/(t[i].z-t[s].z)+t[s].x&&(n=!n);return n}static isVectorInPolygon(t,e,n){var s=1e5,o=-1e5,i=[];return e.vertexIds.forEach((t=>{s=Math.min(n[t].y,s),o=Math.max(n[t].y,o),i.push(n[t])})),!!(t.y<o+.5&&t.y>s-.5&&this.isPointInPoly(i,t))}static triarea2(t,e,n){return(n.x-t.x)*(e.z-t.z)-(e.x-t.x)*(n.z-t.z)}static vequal(t,e){return this.distanceToSquared(t,e)<1e-5}static mergeVertices(t,e=1e-4){e=Math.max(e,Number.EPSILON);for(var n={},o=t.getIndex(),i=t.getAttribute("position"),r=o?o.count:i.count,a=0,h=[],c=[],l=Math.log10(1/e),u=Math.pow(10,l),d=0;d<r;d++){var p=o?o.getX(d):d,g="";g+=~~(i.getX(p)*u)+",",g+=~~(i.getY(p)*u)+",",(g+=~~(i.getZ(p)*u)+",")in n?h.push(n[g]):(c.push(i.getX(p)),c.push(i.getY(p)),c.push(i.getZ(p)),n[g]=a,h.push(a),a++)}const f=new s.BufferAttribute(new Float32Array(c),i.itemSize,i.normalized),v=new s.BufferGeometry;return v.setAttribute("position",f),v.setIndex(h),v}}class i{constructor(t){this.content=[],this.scoreFunction=t}push(t){this.content.push(t),this.sinkDown(this.content.length-1)}pop(){const t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t}remove(t){const e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))}size(){return this.content.length}rescoreElement(t){this.sinkDown(this.content.indexOf(t))}sinkDown(t){const e=this.content[t];for(;t>0;){const n=(t+1>>1)-1,s=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(s)))break;this.content[n]=e,this.content[t]=s,t=n}}bubbleUp(t){const e=this.content.length,n=this.content[t],s=this.scoreFunction(n);for(;;){const o=t+1<<1,i=o-1;let r,a=null;if(i<e&&(r=this.scoreFunction(this.content[i]),r<s&&(a=i)),o<e&&this.scoreFunction(this.content[o])<(null===a?s:r)&&(a=o),null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}}class r{constructor(){this.portals=[]}push(t,e){void 0===e&&(e=t),this.portals.push({left:t,right:e})}stringPull(){const t=this.portals,e=[];let n,s,i,r=0,a=0,h=0;n=t[0].left,s=t[0].left,i=t[0].right,e.push(n);for(let c=1;c<t.length;c++){const l=t[c].left,u=t[c].right;if(o.triarea2(n,i,u)<=0){if(!(o.vequal(n,i)||o.triarea2(n,s,u)>0)){e.push(s),n=s,r=a,s=n,i=n,a=r,h=r,c=r;continue}i=u,h=c}if(o.triarea2(n,s,l)>=0){if(!(o.vequal(n,s)||o.triarea2(n,i,l)<0)){e.push(i),n=i,r=h,s=n,i=n,a=r,h=r,c=r;continue}s=l,a=c}}return 0!==e.length&&o.vequal(e[e.length-1],t[t.length-1].left)||e.push(t[t.length-1].left),this.path=e,e}}class a{constructor(){this.zones={}}static createZone(t,e=1e-4){return class{static buildZone(t,e){const n=this._buildNavigationMesh(t,e),i={};n.vertices.forEach((t=>{t.x=o.roundNumber(t.x,2),t.y=o.roundNumber(t.y,2),t.z=o.roundNumber(t.z,2)})),i.vertices=n.vertices;const r=this._buildPolygonGroups(n);return i.groups=new Array(r.length),r.forEach(((t,e)=>{const n=new Map;t.forEach(((t,e)=>{n.set(t,e)}));const r=new Array(t.length);t.forEach(((t,e)=>{const a=[];t.neighbours.forEach((t=>a.push(n.get(t))));const h=[];t.neighbours.forEach((e=>h.push(this._getSharedVerticesInOrder(t,e))));const c=new s.Vector3(0,0,0);c.add(i.vertices[t.vertexIds[0]]),c.add(i.vertices[t.vertexIds[1]]),c.add(i.vertices[t.vertexIds[2]]),c.divideScalar(3),c.x=o.roundNumber(c.x,2),c.y=o.roundNumber(c.y,2),c.z=o.roundNumber(c.z,2),r[e]={id:e,neighbours:a,vertexIds:t.vertexIds,centroid:c,portals:h}})),i.groups[e]=r})),i}static _buildNavigationMesh(t,e){return t=o.mergeVertices(t,e),this._buildPolygonsFromGeometry(t)}static _spreadGroupId(t){let e=new Set([t]);for(;e.size>0;){const n=e;e=new Set,n.forEach((n=>{n.group=t.group,n.neighbours.forEach((t=>{void 0===t.group&&e.add(t)}))}))}}static _buildPolygonGroups(t){const e=[];return t.polygons.forEach((t=>{void 0!==t.group?e[t.group].push(t):(t.group=e.length,this._spreadGroupId(t),e.push([t]))})),e}static _buildPolygonNeighbours(t,e){const n=new Set,s=e[t.vertexIds[1]],o=e[t.vertexIds[2]];return e[t.vertexIds[0]].forEach((e=>{e!==t&&(s.includes(e)||o.includes(e))&&n.add(e)})),s.forEach((e=>{e!==t&&o.includes(e)&&n.add(e)})),n}static _buildPolygonsFromGeometry(t){const e=[],n=[],o=t.attributes.position,i=t.index,r=[];for(let t=0;t<o.count;t++)n.push((new s.Vector3).fromBufferAttribute(o,t)),r[t]=[];for(let n=0;n<t.index.count;n+=3){const t=i.getX(n),s=i.getX(n+1),o=i.getX(n+2),a={vertexIds:[t,s,o],neighbours:null};e.push(a),r[t].push(a),r[s].push(a),r[o].push(a)}return e.forEach((t=>{t.neighbours=this._buildPolygonNeighbours(t,r)})),{polygons:e,vertices:n}}static _getSharedVerticesInOrder(t,e){const n=t.vertexIds,s=n[0],o=n[1],i=n[2],r=e.vertexIds,a=r.includes(s),h=r.includes(o),c=r.includes(i);return a&&h&&c?Array.from(n):a&&h?[s,o]:h&&c?[o,i]:a&&c?[i,s]:(console.warn("Error processing navigation mesh neighbors; neighbors with <2 shared vertices found."),[])}}.buildZone(t,e)}setZoneData(t,e){this.zones[t]=e}getRandomNode(t,e,n,i){if(!this.zones[t])return new s.Vector3;n=n||null,i=i||0;const r=[];return this.zones[t].groups[e].forEach((t=>{n&&i?o.distanceToSquared(n,t.centroid)<i*i&&r.push(t.centroid):r.push(t.centroid)})),o.sample(r)||new s.Vector3}getClosestNode(t,e,n,s=!1){const i=this.zones[e].vertices;let r=null,a=1/0;return this.zones[e].groups[n].forEach((e=>{const n=o.distanceToSquared(e.centroid,t);n<a&&(!s||o.isVectorInPolygon(t,e,i))&&(r=e,a=n)})),r}findPath(t,e,n,a){const h=this.zones[n].groups[a],c=this.zones[n].vertices,l=this.getClosestNode(t,n,a,!0),u=this.getClosestNode(e,n,a,!0);if(!l||!u)return null;const d=class{static init(t){for(let e=0;e<t.length;e++){const n=t[e];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}}static cleanUp(t){for(let e=0;e<t.length;e++){const n=t[e];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}}static heap(){return new i((function(t){return t.f}))}static search(t,e,n){this.init(t);const s=this.heap();for(s.push(e);s.size()>0;){const e=s.pop();if(e===n){let t=e;const n=[];for(;t.parent;)n.push(t),t=t.parent;return this.cleanUp(n),n.reverse()}e.closed=!0;const o=this.neighbours(t,e);for(let t=0,i=o.length;t<i;t++){const i=o[t];if(i.closed)continue;const r=e.g+i.cost,a=i.visited;if(!a||r<i.g){if(i.visited=!0,i.parent=e,!i.centroid||!n.centroid)throw new Error("Unexpected state");i.h=i.h||this.heuristic(i.centroid,n.centroid),i.g=r,i.f=i.g+i.h,a?s.rescoreElement(i):s.push(i)}}}return[]}static heuristic(t,e){return o.distanceToSquared(t,e)}static neighbours(t,e){const n=[];for(let s=0;s<e.neighbours.length;s++)n.push(t[e.neighbours[s]]);return n}}.search(h,l,u),p=function(t,e){for(var n=0;n<t.neighbours.length;n++)if(t.neighbours[n]===e.id)return t.portals[n]},g=new r;g.push(t);for(let t=0;t<d.length;t++){const e=d[t],n=d[t+1];if(n){const t=p(e,n);g.push(c[t[0]],c[t[1]])}}g.push(e),g.stringPull();const f=g.path.map((t=>new s.Vector3(t.x,t.y,t.z)));return f.shift(),f}}a.prototype.getGroup=function(){const t=new s.Plane;return function(e,n,s=!1){if(!this.zones[e])return null;let i=null,r=Math.pow(50,2);const a=this.zones[e];for(let e=0;e<a.groups.length;e++){const h=a.groups[e];for(const c of h){if(s&&(t.setFromCoplanarPoints(a.vertices[c.vertexIds[0]],a.vertices[c.vertexIds[1]],a.vertices[c.vertexIds[2]]),Math.abs(t.distanceToPoint(n))<.01)&&o.isPointInPoly([a.vertices[c.vertexIds[0]],a.vertices[c.vertexIds[1]],a.vertices[c.vertexIds[2]]],n))return e;const h=o.distanceToSquared(c.centroid,n);h<r&&(i=e,r=h)}}return i}}(),a.prototype.clampStep=function(){const t=new s.Vector3,e=new s.Plane,n=new s.Triangle,o=new s.Vector3;let i,r,a=new s.Vector3;return function(s,h,c,l,u,d){const p=this.zones[l].vertices,g=this.zones[l].groups[u],f=[c],v={};v[c.id]=0,i=void 0,a.set(0,0,0),r=1/0,e.setFromCoplanarPoints(p[c.vertexIds[0]],p[c.vertexIds[1]],p[c.vertexIds[2]]),e.projectPoint(h,t),o.copy(t);for(let e=f.pop();e;e=f.pop()){n.set(p[e.vertexIds[0]],p[e.vertexIds[1]],p[e.vertexIds[2]]),n.closestPointToPoint(o,t),t.distanceToSquared(o)<r&&(i=e,a.copy(t),r=t.distanceToSquared(o));const s=v[e.id];if(!(s>2))for(let t=0;t<e.neighbours.length;t++){const n=g[e.neighbours[t]];n.id in v||(f.push(n),v[n.id]=s+1)}}return d.copy(a),i}}();class h extends s.Object3D{constructor(){super(),this._playerMarker=new s.Mesh(new s.SphereGeometry(.25,32,32),new s.MeshBasicMaterial({color:15631215})),this._targetMarker=new s.Mesh(new s.BoxGeometry(.3,.3,.3),new s.MeshBasicMaterial({color:14469912})),this._nodeMarker=new s.Mesh(new s.BoxGeometry(.1,.8,.1),new s.MeshBasicMaterial({color:4417387})),this._stepMarker=new s.Mesh(new s.BoxGeometry(.1,1,.1),new s.MeshBasicMaterial({color:14472114})),this._pathMarker=new s.Object3D,this._pathLineMaterial=new s.LineBasicMaterial({color:41903,linewidth:2}),this._pathPointMaterial=new s.MeshBasicMaterial({color:41903}),this._pathPointGeometry=new s.SphereGeometry(.08),this._markers=[this._playerMarker,this._targetMarker,this._nodeMarker,this._stepMarker,this._pathMarker],this._markers.forEach((t=>{t.visible=!1,this.add(t)}))}setPath(t){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);t=[this._playerMarker.position].concat(t);const e=new s.BufferGeometry;e.setAttribute("position",new s.BufferAttribute(new Float32Array(3*t.length),3));for(let n=0;n<t.length;n++)e.attributes.position.setXYZ(n,t[n].x,t[n].y+.2,t[n].z);this._pathMarker.add(new s.Line(e,this._pathLineMaterial));for(let e=0;e<t.length-1;e++){const n=new s.Mesh(this._pathPointGeometry,this._pathPointMaterial);n.position.copy(t[e]),n.position.y+=.2,this._pathMarker.add(n)}return this._pathMarker.visible=!0,this}setPlayerPosition(t){return this._playerMarker.position.copy(t),this._playerMarker.visible=!0,this}setTargetPosition(t){return this._targetMarker.position.copy(t),this._targetMarker.visible=!0,this}setNodePosition(t){return this._nodeMarker.position.copy(t),this._nodeMarker.visible=!0,this}setStepPosition(t){return this._stepMarker.position.copy(t),this._stepMarker.visible=!0,this}reset(){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);return this._markers.forEach((t=>{t.visible=!1})),this}}},982:t=>{var e=Math.PI/2;t.exports=AFRAME.registerComponent("nav-agent",{schema:{destination:{type:"vec3"},active:{default:!1},speed:{default:2},gazeTarget:{type:"selector"},mode:{default:"animate",oneOf:["teleport","animate"]},viewSync:{default:!0,type:"boolean"}},init:function(){this.system=this.el.sceneEl.systems.nav,this.system.addAgent(this),this.group=null,this.path=[],this.raycaster=new THREE.Raycaster,this.camera=null,this.lookControls=null,this.el.object3D.traverse((t=>{t instanceof THREE.Camera&&(this.camera=t,this.lookControls=t.el.components["look-controls"])}))},remove:function(){this.system.removeAgent(this)},update:function(){this.path.length=0,this.clearState()},updateNavLocation:function(){this.group=null,this.path=[]},isMWControlsEnabled:function(){var t=this.lookControls;return!!(t&&t.magicWindowControls&&t.magicWindowControls.enabled)},_getGazeTarget:function(t,e,n){if(e.getWorldPosition(t),this.data.gazeTarget&&this.data.gazeTarget.object3D){let e=this.data.gazeTarget.object3D.position;t.setX(e.x),t.setZ(e.z)}else t.setX(n.x),t.setZ(n.z)},_getVQuaternion:function(t,e,n,s,o){e.copy(n.quaternion),this._getGazeTarget(s,n,o),n.lookAt(s),t.copy(n.quaternion),n.setRotationFromQuaternion(e)},_updateRotation:function(t,n,s,o,i,r=.1){if(this.lookControls){if(this.lookControls.touchStarted&&this.lookControls.data.touchEnabled||this.lookControls.mouseDown);else if(r){t.setFromQuaternion(s,"YXZ"),s.slerp(o,r),n.setFromQuaternion(s,"YXZ");let i=this.lookControls.magicWindowDeltaEuler;i.x=0,i.y=0,i.z=0;let a=this.lookControls.pitchObject;a.rotation.x+=n.x-t.x,a.rotation.x=Math.max(-e,Math.min(e,a.rotation.x)),this.lookControls.yawObject.rotation.y+=n.y-t.y}}else i.quaternion.slerp(o,r)},tick:function(){const t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3,s=new THREE.Quaternion,o=new THREE.Quaternion,i=new THREE.Vector3,r=new THREE.Euler,a=new THREE.Euler;return function(h,c){const l=this.el,u=this.data;if(this.raycaster,!u.active)return;const d=u.speed*c/1e3,p=this.lookControls?this.camera:l.object3D,g=this.getNavStart(l.object3D);if(!this.path.length){const e=g;t.copy(u.destination),this.group=this.group||this.system.getGroup(e);const n=this.system.getNode(e,this.group),s=this.system.getNode(t,this.group);n&&s&&s.id===n.id?this.path=[t.clone()]:this.path=this.system.getPath(e,t,this.group)||[],l.emit("navigation-start")}if(!this.path.length)return console.warn("[nav] Unable to find path to %o.",u.destination),this.el.setAttribute("nav-agent",{active:!1}),void l.emit("navigation-end");const f=this.path[0];if(e.subVectors(f,g),"teleport"===this.data.mode){let t=this.path[this.path.length-1];return g.copy(t),this.terrianMove(l.object3D,c),this.data.viewSync&&!this.isMWControlsEnabled()&&this.data.gazeTarget&&this.data.gazeTarget.object3D&&(this._getVQuaternion(s,o,p,i,null),this._updateRotation(a,r,o,s,p,1)),this.el.setAttribute("nav-agent",{active:!1,gazeTarget:null}),void l.emit("navigation-end")}let v;if(e.length()<d){let t=this.path.shift();const e=this.isMWControlsEnabled();let h=e?0:THREE.MathUtils.radToDeg(p.quaternion.angleTo(s));this.data.viewSync||(h=0);const c=Math.abs(h)<.2;if(!this.path.length&&c)return!e&&this.data.viewSync&&(this._getVQuaternion(s,o,p,i,t),this._updateRotation(a,r,o,s,p,1)),this.el.setAttribute("nav-agent",{active:!1,gazeTarget:null}),void l.emit("navigation-end");this.path.length||e||c||this.path.push(t),n.copy(g),v=this.path[0]}else n.copy(e.setLength(d)).add(g),v=f;!this.isMWControlsEnabled()&&this.data.viewSync&&(this._getVQuaternion(s,o,p,i,v),this._updateRotation(a,r,o,s,p)),g.copy(n),this.terrianMove(l.object3D,c)}}(),getNavStart:function(t){return t._navPoint||(t._navPoint=this.system.getNavStart(t.position),t._navPoint?t._navPoint=t._navPoint.point:(t._navPoint=new THREE.Vector3,t._navPoint.copy(t.position))),t._navPoint},clearState:function(){delete this.el.object3D._navPoint,this.updateNavLocation()},terrianMove:function(){let t=new THREE.Vector3,e=new THREE.Vector3,n=new THREE.Vector3;const s=new THREE.Vector3(0,1,0);return function(o,i){o.getWorldPosition(t),o.position.copy(o._navPoint);let r=this.system.getTerrianIntersect(o._navPoint);r&&(r.point.equals(t)||(e.subVectors(r.point,t),n.copy(e),n.projectOnPlane(s),(0==n.lengthSq()?1/0:n.angleTo(e))>Math.PI/4&&Math.abs(r.point.y-t.y)>.001&&(r.point.y>t.y?this.el.emit("nav-agent-move",{move:"up"}):this.el.emit("nav-agent-move",{move:"down"}))),o.position.y=r.point.y)}}()})},866:t=>{t.exports=AFRAME.registerComponent("nav-mesh",{schema:{nodeName:{type:"string"}},init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.nodeName=this.data.nodeName,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){var t=this;const e=this.el.getObject3D("mesh");if(this.el.sceneEl.object3D,!e)return;let n;if(e.traverse((e=>{!e.isMesh||t.nodeName&&e.name!==t.nodeName||(n=e)})),!n)return;const s=n.geometry.clone();n.updateWorldMatrix(!0,!1),s.applyMatrix4(n.matrixWorld),this.system.setNavMeshGeometry(s),this.hasLoadedNavMesh=!0}})},294:t=>{t.exports=AFRAME.registerComponent("nav-terrian",{schema:{terrianName:{type:"string"}},init:function(){this.system=this.el.sceneEl.systems.nav,this.hasLoadedNavMesh=!1,this.nodeName=this.data.nodeName,this.el.addEventListener("object3dset",this.loadNavMesh.bind(this))},play:function(){this.hasLoadedNavMesh||this.loadNavMesh()},loadNavMesh:function(){var t=this;const e=this.el.getObject3D("mesh"),n=this.el.sceneEl.object3D;if(!e)return;let s;e.traverse((e=>{e.isObject3D&&e.name===t.data.terrianName&&(s=e)})),s&&(n.updateMatrixWorld(),this.system.setTerrianMesh(s),this.hasLoadedNavMesh=!0)}})},214:(t,e,n)=>{const{Pathfinding:s}=n(570),o=new s,i="level";t.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null,this.agents=new Set,this.terrianMesh=null},setNavMeshGeometry:function(t){this.navMesh=new THREE.Mesh(t),o.setZoneData(i,s.createZone(t)),Array.from(this.agents).forEach((t=>t.updateNavLocation()))},getNavMesh:function(){return this.navMesh},addAgent:function(t){this.agents.add(t)},removeAgent:function(t){this.agents.delete(t)},getPath:function(t,e,n){return this.navMesh?o.findPath(t,e,i,n):null},getGroup:function(t,e=!1){return this.navMesh?o.getGroup(i,t,e):null},getNode:function(t,e,n=!1){return this.navMesh?o.getClosestNode(t,i,e,n):null},clampStep:function(t,e,n,s,r){return this.navMesh?s?o.clampStep(t,e,s,i,n,r):(r.copy(e),this.getNode(e,n)):(r.copy(e),null)},setTerrianMesh:function(t){this.terrianMesh=t},getTerrianMesh:function(){return this.terrianMesh},getTerrianIntersect:function(t){return this.projectPoint(t,this.terrianMesh)},getNavStart:function(t){return this.projectPoint(t,this.navMesh)},projectPoint:function(){let t=new THREE.Vector3,e=new THREE.Vector3(0,-1,0),n=new THREE.Raycaster(t,e),s=[];return function(o,i){if(!i||!o)return;t.copy(o),t.y+=1.5,n.set(t,e),s.length=0;let r=n.intersectObject(i,!0,s);if(r&&r.length>0){let t=r[0];return s.length=0,t}}}()})},612:e=>{"use strict";e.exports=t}},n={};function s(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t](i,i.exports,s),i.exports}return s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(866),s(294),s(982),s(214),{}})()));
//# sourceMappingURL=aframe-extras.pathfinding.min.js.map