!function(){return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){return s(e[o][1][t]||t)},c,c.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}}()({1:[function(t,e,i){"use strict";t("./src/misc/sphere-collider")},{"./src/misc/sphere-collider":2}],2:[function(t,e,i){"use strict";var n,s,r,o,a,h,l;e.exports=AFRAME.registerComponent("sphere-collider",{schema:{enabled:{default:!0},interval:{default:80},objects:{default:""},state:{default:"collided"},radius:{default:.05},watch:{default:!0}},init:function(){this.observer=null,this.els=[],this.collisions=[],this.prevCheckTime=void 0,this.eventDetail={},this.handleHit=this.handleHit.bind(this),this.handleHitEnd=this.handleHitEnd.bind(this)},play:function(){var t=this.el.sceneEl;this.data.watch&&(this.observer=new MutationObserver(this.update.bind(this,null)),this.observer.observe(t,{childList:!0,subtree:!0}))},pause:function(){this.observer&&(this.observer.disconnect(),this.observer=null)},update:function(){var t=this.data,e=void 0;e=t.objects?this.el.sceneEl.querySelectorAll(t.objects):this.el.sceneEl.children,this.els=Array.prototype.slice.call(e)},tick:(n=new THREE.Vector3,s=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Vector3,a=new THREE.Box3,h=[],l=new Map,function(t){if(this.data.enabled){var e=this.prevCheckTime;if(!(e&&t-e<this.data.interval)){this.prevCheckTime=t;var i,c=this.el,d=this.data,u=void 0;c.getObject3D("mesh")&&(h.length=0,l.clear(),c.object3D.getWorldPosition(n),c.object3D.getWorldScale(r),u=d.radius*(i=r,Math.max(i.x,i.y,i.z)),this.els.forEach(function(t){var e=void 0,i=void 0,r=void 0,c=void 0;t.isEntity&&(i=t.getObject3D("mesh"))&&(a.setFromObject(i).getSize(o),c=Math.max(o.x,o.y,o.z)/2,e=Math.sqrt(2*c*c),a.getCenter(s),e&&(r=n.distanceTo(s))<e+u&&(h.push(t),l.set(t,r)))}),h.sort(function(t,e){return l.get(t)>l.get(e)?1:-1}).forEach(this.handleHit),this.collisions.filter(function(t){return!l.has(t)}).forEach(this.handleHitEnd),function(t,e){t.length=0;for(var i=0;i<e.length;i++)t[i]=e[i]}(this.collisions,h))}}}),handleHit:function(t){t.emit("hit"),t.addState(this.data.state),this.eventDetail.el=t,this.el.emit("hit",this.eventDetail)},handleHitEnd:function(t){t.emit("hitend"),t.removeState(this.data.state),this.eventDetail.el=t,this.el.emit("hitend",this.eventDetail)}})},{}]},{},[1]);