{"version":3,"file":"aframe-extras.controls.min.js","mappings":"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","sources":["webpack://bs-aframe-extras/webpack/universalModuleDefinition","webpack://bs-aframe-extras/./lib/GamepadButton.js","webpack://bs-aframe-extras/./lib/GamepadButtonEvent.js","webpack://bs-aframe-extras/./lib/keyboard.polyfill.js","webpack://bs-aframe-extras/./node_modules/nipplejs/dist/nipplejs.js","webpack://bs-aframe-extras/./src/controls/checkpoint-controls.js","webpack://bs-aframe-extras/./src/controls/gamepad-controls.js","webpack://bs-aframe-extras/./src/controls/keyboard-controls.js","webpack://bs-aframe-extras/./src/controls/movement-controls.js","webpack://bs-aframe-extras/./src/controls/nipple-controls.js","webpack://bs-aframe-extras/./src/controls/touch-controls.js","webpack://bs-aframe-extras/./src/controls/trackpad-controls.js","webpack://bs-aframe-extras/webpack/bootstrap","webpack://bs-aframe-extras/webpack/runtime/compat get default export","webpack://bs-aframe-extras/webpack/runtime/define property getters","webpack://bs-aframe-extras/webpack/runtime/hasOwnProperty shorthand","webpack://bs-aframe-extras/webpack/runtime/make namespace object","webpack://bs-aframe-extras/./src/controls/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, () => {\nreturn ","module.exports = Object.assign(function GamepadButton () {}, {\r\n\tFACE_1: 0,\r\n\tFACE_2: 1,\r\n\tFACE_3: 2,\r\n\tFACE_4: 3,\r\n\r\n\tL_SHOULDER_1: 4,\r\n\tR_SHOULDER_1: 5,\r\n\tL_SHOULDER_2: 6,\r\n\tR_SHOULDER_2: 7,\r\n\r\n\tSELECT: 8,\r\n\tSTART: 9,\r\n\r\n\tDPAD_UP: 12,\r\n\tDPAD_DOWN: 13,\r\n\tDPAD_LEFT: 14,\r\n\tDPAD_RIGHT: 15,\r\n\r\n\tVENDOR: 16,\r\n});\r\n","function GamepadButtonEvent (type, index, details) {\r\n  this.type = type;\r\n  this.index = index;\r\n  this.pressed = details.pressed;\r\n  this.value = details.value;\r\n}\r\n\r\nmodule.exports = GamepadButtonEvent;\r\n","/**\r\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\r\n * D4E draft specifications, by @inexorabletash.\r\n *\r\n * See: https://github.com/inexorabletash/polyfill\r\n */\r\n(function(global) {\r\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\r\n  if (!nativeKeyboardEvent)\r\n    global.KeyboardEvent = function KeyboardEvent() { throw TypeError('Illegal constructor'); };\r\n\r\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\r\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT          = 0x01; // e.g. Left Alt key\r\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT         = 0x02; // e.g. Right Alt key\r\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD        = 0x03; // e.g. Numpad 0 or +\r\n\r\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\r\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\r\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\r\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Utilities\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  function contains(s, ss) { return String(s).indexOf(ss) !== -1; }\r\n\r\n  var os = (function() {\r\n    if (contains(navigator.platform, 'Win')) { return 'win'; }\r\n    if (contains(navigator.platform, 'Mac')) { return 'mac'; }\r\n    if (contains(navigator.platform, 'CrOS')) { return 'cros'; }\r\n    if (contains(navigator.platform, 'Linux')) { return 'linux'; }\r\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) { return 'ios'; }\r\n    return '';\r\n  } ());\r\n\r\n  var browser = (function() {\r\n    if (contains(navigator.userAgent, 'Chrome/')) { return 'chrome'; }\r\n    if (contains(navigator.vendor, 'Apple')) { return 'safari'; }\r\n    if (contains(navigator.userAgent, 'MSIE')) { return 'ie'; }\r\n    if (contains(navigator.userAgent, 'Gecko/')) { return 'moz'; }\r\n    if (contains(navigator.userAgent, 'Opera/')) { return 'opera'; }\r\n    return '';\r\n  } ());\r\n\r\n  var browser_os = browser + '-' + os;\r\n\r\n  function mergeIf(baseTable, select, table) {\r\n    if (browser_os === select || browser === select || os === select) {\r\n      Object.keys(table).forEach(function(keyCode) {\r\n        baseTable[keyCode] = table[keyCode];\r\n      });\r\n    }\r\n  }\r\n\r\n  function remap(o, key) {\r\n    var r = {};\r\n    Object.keys(o).forEach(function(k) {\r\n      var item = o[k];\r\n      if (key in item) {\r\n        r[item[key]] = item;\r\n      }\r\n    });\r\n    return r;\r\n  }\r\n\r\n  function invert(o) {\r\n    var r = {};\r\n    Object.keys(o).forEach(function(k) {\r\n      r[o[k]] = k;\r\n    });\r\n    return r;\r\n  }\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Generic Mappings\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  // \"keyInfo\" is a dictionary:\r\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\r\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\r\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\r\n  //   keyCap (optional): string - keyboard label in en-US locale\r\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\r\n\r\n  // Map of keyCode to keyInfo\r\n  var keyCodeToInfoTable = {\r\n    // 0x01 - VK_LBUTTON\r\n    // 0x02 - VK_RBUTTON\r\n    0x03: { code: 'Cancel' }, // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\r\n    // 0x04 - VK_MBUTTON\r\n    // 0x05 - VK_XBUTTON1\r\n    // 0x06 - VK_XBUTTON2\r\n    0x06: { code: 'Help' }, // [USB: 0x75] ???\r\n    // 0x07 - undefined\r\n    0x08: { code: 'Backspace' }, // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\r\n    0x09: { code: 'Tab' }, // [USB: 0x2b]\r\n    // 0x0A-0x0B - reserved\r\n    0X0C: { code: 'Clear' }, // [USB: 0x9c] NumPad Center (Not in D3E)\r\n    0X0D: { code: 'Enter' }, // [USB: 0x28]\r\n    // 0x0E-0x0F - undefined\r\n\r\n    0x10: { code: 'Shift' },\r\n    0x11: { code: 'Control' },\r\n    0x12: { code: 'Alt' },\r\n    0x13: { code: 'Pause' }, // [USB: 0x48]\r\n    0x14: { code: 'CapsLock' }, // [USB: 0x39]\r\n    0x15: { code: 'KanaMode' }, // [USB: 0x88] - \"HangulMode\" for Korean layout\r\n    0x16: { code: 'HangulMode' }, // [USB: 0x90] 0x15 as well in MSDN VK table ???\r\n    0x17: { code: 'JunjaMode' }, // (Not in D3E)\r\n    0x18: { code: 'FinalMode' }, // (Not in D3E)\r\n    0x19: { code: 'KanjiMode' }, // [USB: 0x91] - \"HanjaMode\" for Korean layout\r\n    // 0x1A - undefined\r\n    0x1B: { code: 'Escape' }, // [USB: 0x29]\r\n    0x1C: { code: 'Convert' }, // [USB: 0x8a]\r\n    0x1D: { code: 'NonConvert' }, // [USB: 0x8b]\r\n    0x1E: { code: 'Accept' }, // (Not in D3E)\r\n    0x1F: { code: 'ModeChange' }, // (Not in D3E)\r\n\r\n    0x20: { code: 'Space' }, // [USB: 0x2c]\r\n    0x21: { code: 'PageUp' }, // [USB: 0x4b]\r\n    0x22: { code: 'PageDown' }, // [USB: 0x4e]\r\n    0x23: { code: 'End' }, // [USB: 0x4d]\r\n    0x24: { code: 'Home' }, // [USB: 0x4a]\r\n    0x25: { code: 'ArrowLeft' }, // [USB: 0x50]\r\n    0x26: { code: 'ArrowUp' }, // [USB: 0x52]\r\n    0x27: { code: 'ArrowRight' }, // [USB: 0x4f]\r\n    0x28: { code: 'ArrowDown' }, // [USB: 0x51]\r\n    0x29: { code: 'Select' }, // (Not in D3E)\r\n    0x2A: { code: 'Print' }, // (Not in D3E)\r\n    0x2B: { code: 'Execute' }, // [USB: 0x74] (Not in D3E)\r\n    0x2C: { code: 'PrintScreen' }, // [USB: 0x46]\r\n    0x2D: { code: 'Insert' }, // [USB: 0x49]\r\n    0x2E: { code: 'Delete' }, // [USB: 0x4c]\r\n    0x2F: { code: 'Help' }, // [USB: 0x75] ???\r\n\r\n    0x30: { code: 'Digit0', keyCap: '0' }, // [USB: 0x27] 0)\r\n    0x31: { code: 'Digit1', keyCap: '1' }, // [USB: 0x1e] 1!\r\n    0x32: { code: 'Digit2', keyCap: '2' }, // [USB: 0x1f] 2@\r\n    0x33: { code: 'Digit3', keyCap: '3' }, // [USB: 0x20] 3#\r\n    0x34: { code: 'Digit4', keyCap: '4' }, // [USB: 0x21] 4$\r\n    0x35: { code: 'Digit5', keyCap: '5' }, // [USB: 0x22] 5%\r\n    0x36: { code: 'Digit6', keyCap: '6' }, // [USB: 0x23] 6^\r\n    0x37: { code: 'Digit7', keyCap: '7' }, // [USB: 0x24] 7&\r\n    0x38: { code: 'Digit8', keyCap: '8' }, // [USB: 0x25] 8*\r\n    0x39: { code: 'Digit9', keyCap: '9' }, // [USB: 0x26] 9(\r\n    // 0x3A-0x40 - undefined\r\n\r\n    0x41: { code: 'KeyA', keyCap: 'a' }, // [USB: 0x04]\r\n    0x42: { code: 'KeyB', keyCap: 'b' }, // [USB: 0x05]\r\n    0x43: { code: 'KeyC', keyCap: 'c' }, // [USB: 0x06]\r\n    0x44: { code: 'KeyD', keyCap: 'd' }, // [USB: 0x07]\r\n    0x45: { code: 'KeyE', keyCap: 'e' }, // [USB: 0x08]\r\n    0x46: { code: 'KeyF', keyCap: 'f' }, // [USB: 0x09]\r\n    0x47: { code: 'KeyG', keyCap: 'g' }, // [USB: 0x0a]\r\n    0x48: { code: 'KeyH', keyCap: 'h' }, // [USB: 0x0b]\r\n    0x49: { code: 'KeyI', keyCap: 'i' }, // [USB: 0x0c]\r\n    0x4A: { code: 'KeyJ', keyCap: 'j' }, // [USB: 0x0d]\r\n    0x4B: { code: 'KeyK', keyCap: 'k' }, // [USB: 0x0e]\r\n    0x4C: { code: 'KeyL', keyCap: 'l' }, // [USB: 0x0f]\r\n    0x4D: { code: 'KeyM', keyCap: 'm' }, // [USB: 0x10]\r\n    0x4E: { code: 'KeyN', keyCap: 'n' }, // [USB: 0x11]\r\n    0x4F: { code: 'KeyO', keyCap: 'o' }, // [USB: 0x12]\r\n\r\n    0x50: { code: 'KeyP', keyCap: 'p' }, // [USB: 0x13]\r\n    0x51: { code: 'KeyQ', keyCap: 'q' }, // [USB: 0x14]\r\n    0x52: { code: 'KeyR', keyCap: 'r' }, // [USB: 0x15]\r\n    0x53: { code: 'KeyS', keyCap: 's' }, // [USB: 0x16]\r\n    0x54: { code: 'KeyT', keyCap: 't' }, // [USB: 0x17]\r\n    0x55: { code: 'KeyU', keyCap: 'u' }, // [USB: 0x18]\r\n    0x56: { code: 'KeyV', keyCap: 'v' }, // [USB: 0x19]\r\n    0x57: { code: 'KeyW', keyCap: 'w' }, // [USB: 0x1a]\r\n    0x58: { code: 'KeyX', keyCap: 'x' }, // [USB: 0x1b]\r\n    0x59: { code: 'KeyY', keyCap: 'y' }, // [USB: 0x1c]\r\n    0x5A: { code: 'KeyZ', keyCap: 'z' }, // [USB: 0x1d]\r\n    0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\r\n    0x5C: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\r\n    0x5D: { code: 'ContextMenu' }, // [USB: 0x65] Context Menu\r\n    // 0x5E - reserved\r\n    0x5F: { code: 'Standby' }, // [USB: 0x82] Sleep\r\n\r\n    0x60: { code: 'Numpad0', keyCap: '0', location: NUMPAD }, // [USB: 0x62]\r\n    0x61: { code: 'Numpad1', keyCap: '1', location: NUMPAD }, // [USB: 0x59]\r\n    0x62: { code: 'Numpad2', keyCap: '2', location: NUMPAD }, // [USB: 0x5a]\r\n    0x63: { code: 'Numpad3', keyCap: '3', location: NUMPAD }, // [USB: 0x5b]\r\n    0x64: { code: 'Numpad4', keyCap: '4', location: NUMPAD }, // [USB: 0x5c]\r\n    0x65: { code: 'Numpad5', keyCap: '5', location: NUMPAD }, // [USB: 0x5d]\r\n    0x66: { code: 'Numpad6', keyCap: '6', location: NUMPAD }, // [USB: 0x5e]\r\n    0x67: { code: 'Numpad7', keyCap: '7', location: NUMPAD }, // [USB: 0x5f]\r\n    0x68: { code: 'Numpad8', keyCap: '8', location: NUMPAD }, // [USB: 0x60]\r\n    0x69: { code: 'Numpad9', keyCap: '9', location: NUMPAD }, // [USB: 0x61]\r\n    0x6A: { code: 'NumpadMultiply', keyCap: '*', location: NUMPAD }, // [USB: 0x55]\r\n    0x6B: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\r\n    0x6C: { code: 'NumpadComma', keyCap: ',', location: NUMPAD }, // [USB: 0x85]\r\n    0x6D: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD }, // [USB: 0x56]\r\n    0x6E: { code: 'NumpadDecimal', keyCap: '.', location: NUMPAD }, // [USB: 0x63]\r\n    0x6F: { code: 'NumpadDivide', keyCap: '/', location: NUMPAD }, // [USB: 0x54]\r\n\r\n    0x70: { code: 'F1' }, // [USB: 0x3a]\r\n    0x71: { code: 'F2' }, // [USB: 0x3b]\r\n    0x72: { code: 'F3' }, // [USB: 0x3c]\r\n    0x73: { code: 'F4' }, // [USB: 0x3d]\r\n    0x74: { code: 'F5' }, // [USB: 0x3e]\r\n    0x75: { code: 'F6' }, // [USB: 0x3f]\r\n    0x76: { code: 'F7' }, // [USB: 0x40]\r\n    0x77: { code: 'F8' }, // [USB: 0x41]\r\n    0x78: { code: 'F9' }, // [USB: 0x42]\r\n    0x79: { code: 'F10' }, // [USB: 0x43]\r\n    0x7A: { code: 'F11' }, // [USB: 0x44]\r\n    0x7B: { code: 'F12' }, // [USB: 0x45]\r\n    0x7C: { code: 'F13' }, // [USB: 0x68]\r\n    0x7D: { code: 'F14' }, // [USB: 0x69]\r\n    0x7E: { code: 'F15' }, // [USB: 0x6a]\r\n    0x7F: { code: 'F16' }, // [USB: 0x6b]\r\n\r\n    0x80: { code: 'F17' }, // [USB: 0x6c]\r\n    0x81: { code: 'F18' }, // [USB: 0x6d]\r\n    0x82: { code: 'F19' }, // [USB: 0x6e]\r\n    0x83: { code: 'F20' }, // [USB: 0x6f]\r\n    0x84: { code: 'F21' }, // [USB: 0x70]\r\n    0x85: { code: 'F22' }, // [USB: 0x71]\r\n    0x86: { code: 'F23' }, // [USB: 0x72]\r\n    0x87: { code: 'F24' }, // [USB: 0x73]\r\n    // 0x88-0x8F - unassigned\r\n\r\n    0x90: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\r\n    0x91: { code: 'ScrollLock' }, // [USB: 0x47]\r\n    // 0x92-0x96 - OEM specific\r\n    // 0x97-0x9F - unassigned\r\n\r\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\r\n    0xA0: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\r\n    0xA1: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\r\n    0xA2: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\r\n    0xA3: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\r\n    0xA4: { code: 'AltLeft', location: LEFT }, // [USB: 0xe2]\r\n    0xA5: { code: 'AltRight', location: RIGHT }, // [USB: 0xe6]\r\n\r\n    0xA6: { code: 'BrowserBack' }, // [USB: 0x0c/0x0224]\r\n    0xA7: { code: 'BrowserForward' }, // [USB: 0x0c/0x0225]\r\n    0xA8: { code: 'BrowserRefresh' }, // [USB: 0x0c/0x0227]\r\n    0xA9: { code: 'BrowserStop' }, // [USB: 0x0c/0x0226]\r\n    0xAA: { code: 'BrowserSearch' }, // [USB: 0x0c/0x0221]\r\n    0xAB: { code: 'BrowserFavorites' }, // [USB: 0x0c/0x0228]\r\n    0xAC: { code: 'BrowserHome' }, // [USB: 0x0c/0x0222]\r\n    0xAD: { code: 'VolumeMute' }, // [USB: 0x7f]\r\n    0xAE: { code: 'VolumeDown' }, // [USB: 0x81]\r\n    0xAF: { code: 'VolumeUp' }, // [USB: 0x80]\r\n\r\n    0xB0: { code: 'MediaTrackNext' }, // [USB: 0x0c/0x00b5]\r\n    0xB1: { code: 'MediaTrackPrevious' }, // [USB: 0x0c/0x00b6]\r\n    0xB2: { code: 'MediaStop' }, // [USB: 0x0c/0x00b7]\r\n    0xB3: { code: 'MediaPlayPause' }, // [USB: 0x0c/0x00cd]\r\n    0xB4: { code: 'LaunchMail' }, // [USB: 0x0c/0x018a]\r\n    0xB5: { code: 'MediaSelect' },\r\n    0xB6: { code: 'LaunchApp1' },\r\n    0xB7: { code: 'LaunchApp2' },\r\n    // 0xB8-0xB9 - reserved\r\n    0xBA: { code: 'Semicolon',  keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\r\n    0xBB: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\r\n    0xBC: { code: 'Comma', keyCap: ',' }, // [USB: 0x36] ,<\r\n    0xBD: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\r\n    0xBE: { code: 'Period', keyCap: '.' }, // [USB: 0x37] .>\r\n    0xBF: { code: 'Slash', keyCap: '/' }, // [USB: 0x38] /? (US Standard 101)\r\n\r\n    0xC0: { code: 'Backquote', keyCap: '`' }, // [USB: 0x35] `~ (US Standard 101)\r\n    // 0xC1-0xCF - reserved\r\n\r\n    // 0xD0-0xD7 - reserved\r\n    // 0xD8-0xDA - unassigned\r\n    0xDB: { code: 'BracketLeft', keyCap: '[' }, // [USB: 0x2f] [{ (US Standard 101)\r\n    0xDC: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\r\n    0xDD: { code: 'BracketRight', keyCap: ']' }, // [USB: 0x30] ]} (US Standard 101)\r\n    0xDE: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\r\n    // 0xDF - miscellaneous/varies\r\n\r\n    // 0xE0 - reserved\r\n    // 0xE1 - OEM specific\r\n    0xE2: { code: 'IntlBackslash',  keyCap: '\\\\' }, // [USB: 0x64] \\| (UK Standard 102)\r\n    // 0xE3-0xE4 - OEM specific\r\n    0xE5: { code: 'Process' }, // (Not in D3E)\r\n    // 0xE6 - OEM specific\r\n    // 0xE7 - VK_PACKET\r\n    // 0xE8 - unassigned\r\n    // 0xE9-0xEF - OEM specific\r\n\r\n    // 0xF0-0xF5 - OEM specific\r\n    0xF6: { code: 'Attn' }, // [USB: 0x9a] (Not in D3E)\r\n    0xF7: { code: 'CrSel' }, // [USB: 0xa3] (Not in D3E)\r\n    0xF8: { code: 'ExSel' }, // [USB: 0xa4] (Not in D3E)\r\n    0xF9: { code: 'EraseEof' }, // (Not in D3E)\r\n    0xFA: { code: 'Play' }, // (Not in D3E)\r\n    0xFB: { code: 'ZoomToggle' }, // (Not in D3E)\r\n    // 0xFC - VK_NONAME - reserved\r\n    // 0xFD - VK_PA1\r\n    0xFE: { code: 'Clear' } // [USB: 0x9c] (Not in D3E)\r\n  };\r\n\r\n  // No legacy keyCode, but listed in D3E:\r\n\r\n  // code: usb\r\n  // 'IntlHash': 0x070032,\r\n  // 'IntlRo': 0x070087,\r\n  // 'IntlYen': 0x070089,\r\n  // 'NumpadBackspace': 0x0700bb,\r\n  // 'NumpadClear': 0x0700d8,\r\n  // 'NumpadClearEntry': 0x0700d9,\r\n  // 'NumpadMemoryAdd': 0x0700d3,\r\n  // 'NumpadMemoryClear': 0x0700d2,\r\n  // 'NumpadMemoryRecall': 0x0700d1,\r\n  // 'NumpadMemoryStore': 0x0700d0,\r\n  // 'NumpadMemorySubtract': 0x0700d4,\r\n  // 'NumpadParenLeft': 0x0700b6,\r\n  // 'NumpadParenRight': 0x0700b7,\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Browser/OS Specific Mappings\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'moz', {\r\n            0x3B: { code: 'Semicolon', keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\r\n            0x3D: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\r\n            0x6B: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\r\n            0x6D: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\r\n            0xBB: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\r\n            0xBD: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD } // [USB: 0x56]\r\n          });\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'moz-mac', {\r\n            0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\r\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\r\n          });\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'moz-win', {\r\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\r\n          });\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'chrome-mac', {\r\n            0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\r\n          });\r\n\r\n  // Windows via Bootcamp (!)\r\n  if (0) {\r\n    mergeIf(keyCodeToInfoTable,\r\n            'chrome-win', {\r\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\r\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\r\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\r\n            });\r\n\r\n    mergeIf(keyCodeToInfoTable,\r\n            'ie', {\r\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\r\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\r\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\r\n            });\r\n  }\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'safari', {\r\n            0x03: { code: 'Enter' }, // [USB: 0x28] old Safari\r\n            0x19: { code: 'Tab' } // [USB: 0x2b] old Safari for Shift+Tab\r\n          });\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'ios', {\r\n            0x0A: { code: 'Enter', location: STANDARD } // [USB: 0x28]\r\n          });\r\n\r\n  mergeIf(keyCodeToInfoTable,\r\n          'safari-mac', {\r\n            0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\r\n            0x5D: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\r\n            0xE5: { code: 'KeyQ', keyCap: 'Q' } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\r\n          });\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Identifier Mappings\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  // Cases where newer-ish browsers send keyIdentifier which can be\r\n  // used to disambiguate keys.\r\n\r\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\r\n\r\n  var keyIdentifierTable = {};\r\n  if ('cros' === os) {\r\n    keyIdentifierTable['U+00A0'] = { code: 'ShiftLeft', location: LEFT };\r\n    keyIdentifierTable['U+00A1'] = { code: 'ShiftRight', location: RIGHT };\r\n    keyIdentifierTable['U+00A2'] = { code: 'ControlLeft', location: LEFT };\r\n    keyIdentifierTable['U+00A3'] = { code: 'ControlRight', location: RIGHT };\r\n    keyIdentifierTable['U+00A4'] = { code: 'AltLeft', location: LEFT };\r\n    keyIdentifierTable['U+00A5'] = { code: 'AltRight', location: RIGHT };\r\n  }\r\n  if ('chrome-mac' === browser_os) {\r\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\r\n  }\r\n  if ('safari-mac' === browser_os) {\r\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\r\n  }\r\n  if ('ios' === os) {\r\n    // These only generate keyup events\r\n    keyIdentifierTable['U+0010'] = { code: 'Function' };\r\n\r\n    keyIdentifierTable['U+001C'] = { code: 'ArrowLeft' };\r\n    keyIdentifierTable['U+001D'] = { code: 'ArrowRight' };\r\n    keyIdentifierTable['U+001E'] = { code: 'ArrowUp' };\r\n    keyIdentifierTable['U+001F'] = { code: 'ArrowDown' };\r\n\r\n    keyIdentifierTable['U+0001'] = { code: 'Home' }; // [USB: 0x4a] Fn + ArrowLeft\r\n    keyIdentifierTable['U+0004'] = { code: 'End' }; // [USB: 0x4d] Fn + ArrowRight\r\n    keyIdentifierTable['U+000B'] = { code: 'PageUp' }; // [USB: 0x4b] Fn + ArrowUp\r\n    keyIdentifierTable['U+000C'] = { code: 'PageDown' }; // [USB: 0x4e] Fn + ArrowDown\r\n  }\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Location Mappings\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  // Cases where newer-ish browsers send location/keyLocation which\r\n  // can be used to disambiguate keys.\r\n\r\n  // locationTable[location][keyCode] -> keyInfo\r\n  var locationTable = [];\r\n  locationTable[LEFT] = {\r\n    0x10: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\r\n    0x11: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\r\n    0x12: { code: 'AltLeft', location: LEFT } // [USB: 0xe2]\r\n  };\r\n  locationTable[RIGHT] = {\r\n    0x10: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\r\n    0x11: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\r\n    0x12: { code: 'AltRight', location: RIGHT } // [USB: 0xe6]\r\n  };\r\n  locationTable[NUMPAD] = {\r\n    0x0D: { code: 'NumpadEnter', location: NUMPAD } // [USB: 0x58]\r\n  };\r\n\r\n  mergeIf(locationTable[NUMPAD], 'moz', {\r\n    0x6D: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\r\n    0x6B: { code: 'NumpadAdd', location: NUMPAD } // [USB: 0x57]\r\n  });\r\n  mergeIf(locationTable[LEFT], 'moz-mac', {\r\n    0xE0: { code: 'OSLeft', location: LEFT } // [USB: 0xe3]\r\n  });\r\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\r\n    0xE0: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\r\n  });\r\n  mergeIf(locationTable[RIGHT], 'moz-win', {\r\n    0x5B: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\r\n  });\r\n\r\n\r\n  mergeIf(locationTable[RIGHT], 'mac', {\r\n    0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\r\n  });\r\n\r\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\r\n    0x0C: { code: 'NumLock', location: NUMPAD } // [USB: 0x53]\r\n  });\r\n\r\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\r\n    0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\r\n    0xBB: { code: 'NumpadAdd', location: NUMPAD }, // [USB: 0x57]\r\n    0xBD: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\r\n    0xBE: { code: 'NumpadDecimal', location: NUMPAD }, // [USB: 0x63]\r\n    0xBF: { code: 'NumpadDivide', location: NUMPAD } // [USB: 0x54]\r\n  });\r\n\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Key Values\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n  // Mapping from `code` values to `key` values. Values defined at:\r\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\r\n  // Entries are only provided when `key` differs from `code`. If\r\n  // printable, `shiftKey` has the shifted printable character. This\r\n  // assumes US Standard 101 layout\r\n\r\n  var codeToKeyTable = {\r\n    // Modifier Keys\r\n    ShiftLeft: { key: 'Shift' },\r\n    ShiftRight: { key: 'Shift' },\r\n    ControlLeft: { key: 'Control' },\r\n    ControlRight: { key: 'Control' },\r\n    AltLeft: { key: 'Alt' },\r\n    AltRight: { key: 'Alt' },\r\n    OSLeft: { key: 'OS' },\r\n    OSRight: { key: 'OS' },\r\n\r\n    // Whitespace Keys\r\n    NumpadEnter: { key: 'Enter' },\r\n    Space: { key: ' ' },\r\n\r\n    // Printable Keys\r\n    Digit0: { key: '0', shiftKey: ')' },\r\n    Digit1: { key: '1', shiftKey: '!' },\r\n    Digit2: { key: '2', shiftKey: '@' },\r\n    Digit3: { key: '3', shiftKey: '#' },\r\n    Digit4: { key: '4', shiftKey: '$' },\r\n    Digit5: { key: '5', shiftKey: '%' },\r\n    Digit6: { key: '6', shiftKey: '^' },\r\n    Digit7: { key: '7', shiftKey: '&' },\r\n    Digit8: { key: '8', shiftKey: '*' },\r\n    Digit9: { key: '9', shiftKey: '(' },\r\n    KeyA: { key: 'a', shiftKey: 'A' },\r\n    KeyB: { key: 'b', shiftKey: 'B' },\r\n    KeyC: { key: 'c', shiftKey: 'C' },\r\n    KeyD: { key: 'd', shiftKey: 'D' },\r\n    KeyE: { key: 'e', shiftKey: 'E' },\r\n    KeyF: { key: 'f', shiftKey: 'F' },\r\n    KeyG: { key: 'g', shiftKey: 'G' },\r\n    KeyH: { key: 'h', shiftKey: 'H' },\r\n    KeyI: { key: 'i', shiftKey: 'I' },\r\n    KeyJ: { key: 'j', shiftKey: 'J' },\r\n    KeyK: { key: 'k', shiftKey: 'K' },\r\n    KeyL: { key: 'l', shiftKey: 'L' },\r\n    KeyM: { key: 'm', shiftKey: 'M' },\r\n    KeyN: { key: 'n', shiftKey: 'N' },\r\n    KeyO: { key: 'o', shiftKey: 'O' },\r\n    KeyP: { key: 'p', shiftKey: 'P' },\r\n    KeyQ: { key: 'q', shiftKey: 'Q' },\r\n    KeyR: { key: 'r', shiftKey: 'R' },\r\n    KeyS: { key: 's', shiftKey: 'S' },\r\n    KeyT: { key: 't', shiftKey: 'T' },\r\n    KeyU: { key: 'u', shiftKey: 'U' },\r\n    KeyV: { key: 'v', shiftKey: 'V' },\r\n    KeyW: { key: 'w', shiftKey: 'W' },\r\n    KeyX: { key: 'x', shiftKey: 'X' },\r\n    KeyY: { key: 'y', shiftKey: 'Y' },\r\n    KeyZ: { key: 'z', shiftKey: 'Z' },\r\n    Numpad0: { key: '0' },\r\n    Numpad1: { key: '1' },\r\n    Numpad2: { key: '2' },\r\n    Numpad3: { key: '3' },\r\n    Numpad4: { key: '4' },\r\n    Numpad5: { key: '5' },\r\n    Numpad6: { key: '6' },\r\n    Numpad7: { key: '7' },\r\n    Numpad8: { key: '8' },\r\n    Numpad9: { key: '9' },\r\n    NumpadMultiply: { key: '*' },\r\n    NumpadAdd: { key: '+' },\r\n    NumpadComma: { key: ',' },\r\n    NumpadSubtract: { key: '-' },\r\n    NumpadDecimal: { key: '.' },\r\n    NumpadDivide: { key: '/' },\r\n    Semicolon: { key: ';', shiftKey: ':' },\r\n    Equal: { key: '=', shiftKey: '+' },\r\n    Comma: { key: ',', shiftKey: '<' },\r\n    Minus: { key: '-', shiftKey: '_' },\r\n    Period: { key: '.', shiftKey: '>' },\r\n    Slash: { key: '/', shiftKey: '?' },\r\n    Backquote: { key: '`', shiftKey: '~' },\r\n    BracketLeft: { key: '[', shiftKey: '{' },\r\n    Backslash: { key: '\\\\', shiftKey: '|' },\r\n    BracketRight: { key: ']', shiftKey: '}' },\r\n    Quote: { key: '\\'', shiftKey: '\"' },\r\n    IntlBackslash: { key: '\\\\', shiftKey: '|' }\r\n  };\r\n\r\n  mergeIf(codeToKeyTable, 'mac', {\r\n    OSLeft: { key: 'Meta' },\r\n    OSRight: { key: 'Meta' }\r\n  });\r\n\r\n  // Corrections for 'key' names in older browsers (e.g. FF36-)\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\r\n  var keyFixTable = {\r\n    Esc: 'Escape',\r\n    Nonconvert: 'NonConvert',\r\n    Left: 'ArrowLeft',\r\n    Up: 'ArrowUp',\r\n    Right: 'ArrowRight',\r\n    Down: 'ArrowDown',\r\n    Del: 'Delete',\r\n    Menu: 'ContextMenu',\r\n    MediaNextTrack: 'MediaTrackNext',\r\n    MediaPreviousTrack: 'MediaTrackPrevious',\r\n    SelectMedia: 'MediaSelect',\r\n    HalfWidth: 'Hankaku',\r\n    FullWidth: 'Zenkaku',\r\n    RomanCharacters: 'Romaji',\r\n    Crsel: 'CrSel',\r\n    Exsel: 'ExSel',\r\n    Zoom: 'ZoomToggle'\r\n  };\r\n\r\n  //--------------------------------------------------------------------\r\n  //\r\n  // Exported Functions\r\n  //\r\n  //--------------------------------------------------------------------\r\n\r\n\r\n  var codeTable = remap(keyCodeToInfoTable, 'code');\r\n\r\n  try {\r\n    var nativeLocation = nativeKeyboardEvent && ('location' in new KeyboardEvent(''));\r\n  } catch (_) {}\r\n\r\n  function keyInfoForEvent(event) {\r\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\r\n\r\n    var keyInfo = (function(){\r\n      if (nativeLocation || 'keyLocation' in event) {\r\n        var location = nativeLocation ? event.location : event.keyLocation;\r\n        if (location && keyCode in locationTable[location]) {\r\n          return locationTable[location][keyCode];\r\n        }\r\n      }\r\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\r\n        return keyIdentifierTable[event.keyIdentifier];\r\n      }\r\n      if (keyCode in keyCodeToInfoTable) {\r\n        return keyCodeToInfoTable[keyCode];\r\n      }\r\n      return null;\r\n    }());\r\n\r\n    // TODO: Track these down and move to general tables\r\n    if (0) {\r\n      // TODO: Map these for newerish browsers?\r\n      // TODO: iOS only?\r\n      // TODO: Override with more common keyIdentifier name?\r\n      switch (event.keyIdentifier) {\r\n      case 'U+0010': keyInfo = { code: 'Function' }; break;\r\n      case 'U+001C': keyInfo = { code: 'ArrowLeft' }; break;\r\n      case 'U+001D': keyInfo = { code: 'ArrowRight' }; break;\r\n      case 'U+001E': keyInfo = { code: 'ArrowUp' }; break;\r\n      case 'U+001F': keyInfo = { code: 'ArrowDown' }; break;\r\n      }\r\n    }\r\n\r\n    if (!keyInfo)\r\n      return null;\r\n\r\n    var key = (function() {\r\n      var entry = codeToKeyTable[keyInfo.code];\r\n      if (!entry) return keyInfo.code;\r\n      return (event.shiftKey && 'shiftKey' in entry) ? entry.shiftKey : entry.key;\r\n    }());\r\n\r\n    return {\r\n      code: keyInfo.code,\r\n      key: key,\r\n      location: keyInfo.location,\r\n      keyCap: keyInfo.keyCap\r\n    };\r\n  }\r\n\r\n  function queryKeyCap(code, locale) {\r\n    code = String(code);\r\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\r\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\r\n    var keyInfo = codeTable[code];\r\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\r\n  }\r\n\r\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\r\n    (function() {\r\n      function define(o, p, v) {\r\n        if (p in o) return;\r\n        Object.defineProperty(o, p, v);\r\n      }\r\n\r\n      define(KeyboardEvent.prototype, 'code', { get: function() {\r\n        var keyInfo = keyInfoForEvent(this);\r\n        return keyInfo ? keyInfo.code : '';\r\n      }});\r\n\r\n      // Fix for nonstandard `key` values (FF36-)\r\n      if ('key' in KeyboardEvent.prototype) {\r\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\r\n        Object.defineProperty(KeyboardEvent.prototype, 'key', { get: function() {\r\n          var key = desc.get.call(this);\r\n          return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\r\n        }});\r\n      }\r\n\r\n      define(KeyboardEvent.prototype, 'key', { get: function() {\r\n        var keyInfo = keyInfoForEvent(this);\r\n        return (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\r\n      }});\r\n\r\n      define(KeyboardEvent.prototype, 'location', { get: function() {\r\n        var keyInfo = keyInfoForEvent(this);\r\n        return (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\r\n      }});\r\n\r\n      define(KeyboardEvent.prototype, 'locale', { get: function() {\r\n        return '';\r\n      }});\r\n    }());\r\n  }\r\n\r\n  if (!('queryKeyCap' in global.KeyboardEvent))\r\n    global.KeyboardEvent.queryKeyCap = queryKeyCap;\r\n\r\n  // Helper for IE8-\r\n  global.identifyKey = function(event) {\r\n    if ('code' in event)\r\n      return;\r\n\r\n    var keyInfo = keyInfoForEvent(event);\r\n    event.code = keyInfo ? keyInfo.code : '';\r\n    event.key = (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\r\n    event.location = ('location' in event) ? event.location :\r\n      ('keyLocation' in event) ? event.keyLocation :\r\n      (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\r\n    event.locale = '';\r\n  };\r\n\r\n} (window));\r\n","!function(t,i){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(\"nipplejs\",[],i):\"object\"==typeof exports?exports.nipplejs=i():t.nipplejs=i()}(window,function(){return function(t){var i={};function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:o})},e.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&\"object\"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:t}),2&i&&\"string\"!=typeof t)for(var n in t)e.d(o,n,function(i){return t[i]}.bind(null,n));return o},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,\"a\",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p=\"\",e(e.s=0)}([function(t,i,e){\"use strict\";e.r(i);var o,n=function(t,i){var e=i.x-t.x,o=i.y-t.y;return Math.sqrt(e*e+o*o)},s=function(t){return t*(Math.PI/180)},r=function(t){return t*(180/Math.PI)},d=new Map,a=function(t){d.has(t)&&clearTimeout(d.get(t)),d.set(t,setTimeout(t,100))},p=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.addEventListener?t.addEventListener(o,e,!1):t.attachEvent&&t.attachEvent(o,e)},c=function(t,i,e){for(var o,n=i.split(/[ ,]+/g),s=0;s<n.length;s+=1)o=n[s],t.removeEventListener?t.removeEventListener(o,e):t.detachEvent&&t.detachEvent(o,e)},l=function(t){return t.preventDefault(),t.type.match(/^touch/)?t.changedTouches:t},h=function(){return{x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop}},u=function(t,i){i.top||i.right||i.bottom||i.left?(t.style.top=i.top,t.style.right=i.right,t.style.bottom=i.bottom,t.style.left=i.left):(t.style.left=i.x+\"px\",t.style.top=i.y+\"px\")},f=function(t,i,e){var o=y(t);for(var n in o)if(o.hasOwnProperty(n))if(\"string\"==typeof i)o[n]=i+\" \"+e;else{for(var s=\"\",r=0,d=i.length;r<d;r+=1)s+=i[r]+\" \"+e+\", \";o[n]=s.slice(0,-2)}return o},y=function(t){var i={};i[t]=\"\";return[\"webkit\",\"Moz\",\"o\"].forEach(function(e){i[e+t.charAt(0).toUpperCase()+t.slice(1)]=\"\"}),i},m=function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t},v=function(t,i){if(t.length)for(var e=0,o=t.length;e<o;e+=1)i(t[e]);else i(t)},g=!!(\"ontouchstart\"in window),b=!!window.PointerEvent,x=!!window.MSPointerEvent,O={start:\"mousedown\",move:\"mousemove\",end:\"mouseup\"},w={};function _(){}b?o={start:\"pointerdown\",move:\"pointermove\",end:\"pointerup, pointercancel\"}:x?o={start:\"MSPointerDown\",move:\"MSPointerMove\",end:\"MSPointerUp\"}:g?(o={start:\"touchstart\",move:\"touchmove\",end:\"touchend, touchcancel\"},w=O):o=O,_.prototype.on=function(t,i){var e,o=t.split(/[ ,]+/g);this._handlers_=this._handlers_||{};for(var n=0;n<o.length;n+=1)e=o[n],this._handlers_[e]=this._handlers_[e]||[],this._handlers_[e].push(i);return this},_.prototype.off=function(t,i){return this._handlers_=this._handlers_||{},void 0===t?this._handlers_={}:void 0===i?this._handlers_[t]=null:this._handlers_[t]&&this._handlers_[t].indexOf(i)>=0&&this._handlers_[t].splice(this._handlers_[t].indexOf(i),1),this},_.prototype.trigger=function(t,i){var e,o=this,n=t.split(/[ ,]+/g);o._handlers_=o._handlers_||{};for(var s=0;s<n.length;s+=1)e=n[s],o._handlers_[e]&&o._handlers_[e].length&&o._handlers_[e].forEach(function(t){t.call(o,{type:e,target:o},i)})},_.prototype.config=function(t){this.options=this.defaults||{},t&&(this.options=function(t,i){var e={};for(var o in t)t.hasOwnProperty(o)&&i.hasOwnProperty(o)?e[o]=i[o]:t.hasOwnProperty(o)&&(e[o]=t[o]);return e}(this.options,t))},_.prototype.bindEvt=function(t,i){var e=this;return e._domHandlers_=e._domHandlers_||{},e._domHandlers_[i]=function(){\"function\"==typeof e[\"on\"+i]?e[\"on\"+i].apply(e,arguments):console.warn('[WARNING] : Missing \"on'+i+'\" handler.')},p(t,o[i],e._domHandlers_[i]),w[i]&&p(t,w[i],e._domHandlers_[i]),e},_.prototype.unbindEvt=function(t,i){return this._domHandlers_=this._domHandlers_||{},c(t,o[i],this._domHandlers_[i]),w[i]&&c(t,w[i],this._domHandlers_[i]),delete this._domHandlers_[i],this};var T=_;function k(t,i){return this.identifier=i.identifier,this.position=i.position,this.frontPosition=i.frontPosition,this.collection=t,this.defaults={size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,mode:\"dynamic\",zone:document.body,lockX:!1,lockY:!1,shape:\"circle\"},this.config(i),\"dynamic\"===this.options.mode&&(this.options.restOpacity=0),this.id=k.id,k.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}k.prototype=new T,k.constructor=k,k.id=0,k.prototype.buildEl=function(t){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement(\"div\"),this.ui.back=document.createElement(\"div\"),this.ui.front=document.createElement(\"div\"),this.ui.el.className=\"nipple collection_\"+this.collection.id,this.ui.back.className=\"back\",this.ui.front.className=\"front\",this.ui.el.setAttribute(\"id\",\"nipple_\"+this.collection.id+\"_\"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)},k.prototype.stylize=function(){if(this.options.dataOnly)return this;var t=this.options.fadeTime+\"ms\",i=function(t,i){var e=y(t);for(var o in e)e.hasOwnProperty(o)&&(e[o]=i);return e}(\"borderRadius\",\"50%\"),e=f(\"transition\",\"opacity\",t),o={};return o.el={position:\"absolute\",opacity:this.options.restOpacity,display:\"block\",zIndex:999},o.back={position:\"absolute\",display:\"block\",width:this.options.size+\"px\",height:this.options.size+\"px\",left:0,marginLeft:-this.options.size/2+\"px\",marginTop:-this.options.size/2+\"px\",background:this.options.color,opacity:\".5\"},o.front={width:this.options.size/2+\"px\",height:this.options.size/2+\"px\",position:\"absolute\",display:\"block\",left:0,marginLeft:-this.options.size/4+\"px\",marginTop:-this.options.size/4+\"px\",background:this.options.color,opacity:\".5\",transform:\"translate(0px, 0px)\"},m(o.el,e),\"circle\"===this.options.shape&&m(o.back,i),m(o.front,i),this.applyStyles(o),this},k.prototype.applyStyles=function(t){for(var i in this.ui)if(this.ui.hasOwnProperty(i))for(var e in t[i])this.ui[i].style[e]=t[i][e];return this},k.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)},k.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)},k.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger(\"destroyed\",this.instance),this.removeFromDom(),this.off()},k.prototype.show=function(t){var i=this;return i.options.dataOnly?i:(clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.addToDom(),i.restCallback(),setTimeout(function(){i.ui.el.style.opacity=1},0),i.showTimeout=setTimeout(function(){i.trigger(\"shown\",i.instance),\"function\"==typeof t&&t.call(this)},i.options.fadeTime),i)},k.prototype.hide=function(t){var i=this;if(i.options.dataOnly)return i;if(i.ui.el.style.opacity=i.options.restOpacity,clearTimeout(i.removeTimeout),clearTimeout(i.showTimeout),clearTimeout(i.restTimeout),i.removeTimeout=setTimeout(function(){var e=\"dynamic\"===i.options.mode?\"none\":\"block\";i.ui.el.style.display=e,\"function\"==typeof t&&t.call(i),i.trigger(\"hidden\",i.instance)},i.options.fadeTime),i.options.restJoystick){var e=i.options.restJoystick,o={};o.x=!0===e||!1!==e.x?0:i.instance.frontPosition.x,o.y=!0===e||!1!==e.y?0:i.instance.frontPosition.y,i.setPosition(t,o)}return i},k.prototype.setPosition=function(t,i){var e=this;e.frontPosition={x:i.x,y:i.y};var o=e.options.fadeTime+\"ms\",n={};n.front=f(\"transition\",[\"transform\"],o);var s={front:{}};s.front={transform:\"translate(\"+e.frontPosition.x+\"px,\"+e.frontPosition.y+\"px)\"},e.applyStyles(n),e.applyStyles(s),e.restTimeout=setTimeout(function(){\"function\"==typeof t&&t.call(e),e.restCallback()},e.options.fadeTime)},k.prototype.restCallback=function(){var t={};t.front=f(\"transition\",\"none\",\"\"),this.applyStyles(t),this.trigger(\"rested\",this.instance)},k.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}},k.prototype.computeDirection=function(t){var i,e,o,n=t.angle.radian,s=Math.PI/4,r=Math.PI/2;if(n>s&&n<3*s&&!t.lockX?i=\"up\":n>-s&&n<=s&&!t.lockY?i=\"left\":n>3*-s&&n<=-s&&!t.lockX?i=\"down\":t.lockY||(i=\"right\"),t.lockY||(e=n>-r&&n<r?\"left\":\"right\"),t.lockX||(o=n>0?\"up\":\"down\"),t.force>this.options.threshold){var d,a={};for(d in this.direction)this.direction.hasOwnProperty(d)&&(a[d]=this.direction[d]);var p={};for(d in this.direction={x:e,y:o,angle:i},t.direction=this.direction,a)a[d]===this.direction[d]&&(p[d]=!0);if(p.x&&p.y&&p.angle)return t;p.x&&p.y||this.trigger(\"plain\",t),p.x||this.trigger(\"plain:\"+e,t),p.y||this.trigger(\"plain:\"+o,t),p.angle||this.trigger(\"dir dir:\"+i,t)}else this.resetDirection();return t};var P=k;function E(t,i){this.nipples=[],this.idles=[],this.actives=[],this.ids=[],this.pressureIntervals={},this.manager=t,this.id=E.id,E.id+=1,this.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:\"dynamic\",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:\"white\",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:.5,lockX:!1,lockY:!1,shape:\"circle\",dynamicPage:!1,follow:!1},this.config(i),\"static\"!==this.options.mode&&\"semi\"!==this.options.mode||(this.options.multitouch=!1),this.options.multitouch||(this.options.maxNumberOfNipples=1);var e=getComputedStyle(this.options.zone.parentElement);return e&&\"flex\"===e.display&&(this.parentIsFlex=!0),this.updateBox(),this.prepareNipples(),this.bindings(),this.begin(),this.nipples}E.prototype=new T,E.constructor=E,E.id=0,E.prototype.prepareNipples=function(){var t=this.nipples;t.on=this.on.bind(this),t.off=this.off.bind(this),t.options=this.options,t.destroy=this.destroy.bind(this),t.ids=this.ids,t.id=this.id,t.processOnMove=this.processOnMove.bind(this),t.processOnEnd=this.processOnEnd.bind(this),t.get=function(i){if(void 0===i)return t[0];for(var e=0,o=t.length;e<o;e+=1)if(t[e].identifier===i)return t[e];return!1}},E.prototype.bindings=function(){this.bindEvt(this.options.zone,\"start\"),this.options.zone.style.touchAction=\"none\",this.options.zone.style.msTouchAction=\"none\"},E.prototype.begin=function(){var t=this.options;if(\"static\"===t.mode){var i=this.createNipple(t.position,this.manager.getIdentifier());i.add(),this.idles.push(i)}},E.prototype.createNipple=function(t,i){var e=this.manager.scroll,o={},n=this.options,s=this.parentIsFlex?e.x:e.x+this.box.left,r=this.parentIsFlex?e.y:e.y+this.box.top;if(t.x&&t.y)o={x:t.x-s,y:t.y-r};else if(t.top||t.right||t.bottom||t.left){var d=document.createElement(\"DIV\");d.style.display=\"hidden\",d.style.top=t.top,d.style.right=t.right,d.style.bottom=t.bottom,d.style.left=t.left,d.style.position=\"absolute\",n.zone.appendChild(d);var a=d.getBoundingClientRect();n.zone.removeChild(d),o=t,t={x:a.left+e.x,y:a.top+e.y}}var p=new P(this,{color:n.color,size:n.size,threshold:n.threshold,fadeTime:n.fadeTime,dataOnly:n.dataOnly,restJoystick:n.restJoystick,restOpacity:n.restOpacity,mode:n.mode,identifier:i,position:t,zone:n.zone,frontPosition:{x:0,y:0},shape:n.shape});return n.dataOnly||(u(p.ui.el,o),u(p.ui.front,p.frontPosition)),this.nipples.push(p),this.trigger(\"added \"+p.identifier+\":added\",p),this.manager.trigger(\"added \"+p.identifier+\":added\",p),this.bindNipple(p),p},E.prototype.updateBox=function(){this.box=this.options.zone.getBoundingClientRect()},E.prototype.bindNipple=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},E.prototype.pressureFn=function(t,i,e){var o=this,n=0;clearInterval(o.pressureIntervals[e]),o.pressureIntervals[e]=setInterval(function(){var e=t.force||t.pressure||t.webkitForce||0;e!==n&&(i.trigger(\"pressure\",e),o.trigger(\"pressure \"+i.identifier+\":pressure\",e),n=e)}.bind(o),100)},E.prototype.onstart=function(t){var i=this,e=i.options,o=t;t=l(t),i.updateBox();return v(t,function(n){i.actives.length<e.maxNumberOfNipples?i.processOnStart(n):o.type.match(/^touch/)&&(Object.keys(i.manager.ids).forEach(function(e){if(Object.values(o.touches).findIndex(function(t){return t.identifier===e})<0){var n=[t[0]];n.identifier=e,i.processOnEnd(n)}}),i.actives.length<e.maxNumberOfNipples&&i.processOnStart(n))}),i.manager.bindDocument(),!1},E.prototype.processOnStart=function(t){var i,e=this,o=e.options,s=e.manager.getIdentifier(t),r=t.force||t.pressure||t.webkitForce||0,d={x:t.pageX,y:t.pageY},a=e.getOrCreate(s,d);a.identifier!==s&&e.manager.removeIdentifier(a.identifier),a.identifier=s;var p=function(i){i.trigger(\"start\",i),e.trigger(\"start \"+i.id+\":start\",i),i.show(),r>0&&e.pressureFn(t,i,i.identifier),e.processOnMove(t)};if((i=e.idles.indexOf(a))>=0&&e.idles.splice(i,1),e.actives.push(a),e.ids.push(a.identifier),\"semi\"!==o.mode)p(a);else{if(!(n(d,a.position)<=o.catchDistance))return a.destroy(),void e.processOnStart(t);p(a)}return a},E.prototype.getOrCreate=function(t,i){var e,o=this.options;return/(semi|static)/.test(o.mode)?(e=this.idles[0])?(this.idles.splice(0,1),e):\"semi\"===o.mode?this.createNipple(i,t):(console.warn(\"Coudln't find the needed nipple.\"),!1):e=this.createNipple(i,t)},E.prototype.processOnMove=function(t){var i=this.options,e=this.manager.getIdentifier(t),o=this.nipples.get(e),d=this.manager.scroll;if(function(t){return isNaN(t.buttons)?0!==t.pressure:0!==t.buttons}(t)){if(!o)return console.error(\"Found zombie joystick with ID \"+e),void this.manager.removeIdentifier(e);if(i.dynamicPage){var a=o.el.getBoundingClientRect();o.position={x:d.x+a.left,y:d.y+a.top}}o.identifier=e;var p=o.options.size/2,c={x:t.pageX,y:t.pageY};i.lockX&&(c.y=o.position.y),i.lockY&&(c.x=o.position.x);var l,h,u,f,y,m,v,g,b,x,O=n(c,o.position),w=(l=c,h=o.position,u=h.x-l.x,f=h.y-l.y,r(Math.atan2(f,u))),_=s(w),T=O/p,k={distance:O,position:c};if(\"circle\"===o.options.shape?(y=Math.min(O,p),v=o.position,g=y,x={x:0,y:0},b=s(b=w),x.x=v.x-g*Math.cos(b),x.y=v.y-g*Math.sin(b),m=x):(m=function(t,i,e){return{x:Math.min(Math.max(t.x,i.x-e),i.x+e),y:Math.min(Math.max(t.y,i.y-e),i.y+e)}}(c,o.position,p),y=n(m,o.position)),i.follow){if(O>p){var P=c.x-m.x,E=c.y-m.y;o.position.x+=P,o.position.y+=E,o.el.style.top=o.position.y-(this.box.top+d.y)+\"px\",o.el.style.left=o.position.x-(this.box.left+d.x)+\"px\",O=n(c,o.position)}}else c=m,O=y;var I=c.x-o.position.x,z=c.y-o.position.y;o.frontPosition={x:I,y:z},i.dataOnly||(o.ui.front.style.transform=\"translate(\"+I+\"px,\"+z+\"px)\");var D={identifier:o.identifier,position:c,force:T,pressure:t.force||t.pressure||t.webkitForce||0,distance:O,angle:{radian:_,degree:w},vector:{x:I/p,y:-z/p},raw:k,instance:o,lockX:i.lockX,lockY:i.lockY};(D=o.computeDirection(D)).angle={radian:s(180-w),degree:180-w},o.trigger(\"move\",D),this.trigger(\"move \"+o.id+\":move\",D)}else this.processOnEnd(t)},E.prototype.processOnEnd=function(t){var i=this,e=i.options,o=i.manager.getIdentifier(t),n=i.nipples.get(o),s=i.manager.removeIdentifier(n.identifier);n&&(e.dataOnly||n.hide(function(){\"dynamic\"===e.mode&&(n.trigger(\"removed\",n),i.trigger(\"removed \"+n.id+\":removed\",n),i.manager.trigger(\"removed \"+n.id+\":removed\",n),n.destroy())}),clearInterval(i.pressureIntervals[n.identifier]),n.resetDirection(),n.trigger(\"end\",n),i.trigger(\"end \"+n.id+\":end\",n),i.ids.indexOf(n.identifier)>=0&&i.ids.splice(i.ids.indexOf(n.identifier),1),i.actives.indexOf(n)>=0&&i.actives.splice(i.actives.indexOf(n),1),/(semi|static)/.test(e.mode)?i.idles.push(n):i.nipples.indexOf(n)>=0&&i.nipples.splice(i.nipples.indexOf(n),1),i.manager.unbindDocument(),/(semi|static)/.test(e.mode)&&(i.manager.ids[s.id]=s.identifier))},E.prototype.onDestroyed=function(t,i){this.nipples.indexOf(i)>=0&&this.nipples.splice(this.nipples.indexOf(i),1),this.actives.indexOf(i)>=0&&this.actives.splice(this.actives.indexOf(i),1),this.idles.indexOf(i)>=0&&this.idles.splice(this.idles.indexOf(i),1),this.ids.indexOf(i.identifier)>=0&&this.ids.splice(this.ids.indexOf(i.identifier),1),this.manager.removeIdentifier(i.identifier),this.manager.unbindDocument()},E.prototype.destroy=function(){for(var t in this.unbindEvt(this.options.zone,\"start\"),this.nipples.forEach(function(t){t.destroy()}),this.pressureIntervals)this.pressureIntervals.hasOwnProperty(t)&&clearInterval(this.pressureIntervals[t]);this.trigger(\"destroyed\",this.nipples),this.manager.unbindDocument(),this.off()};var I=E;function z(t){var i=this;i.ids={},i.index=0,i.collections=[],i.scroll=h(),i.config(t),i.prepareCollections();var e=function(){var t;i.collections.forEach(function(e){e.forEach(function(e){t=e.el.getBoundingClientRect(),e.position={x:i.scroll.x+t.left,y:i.scroll.y+t.top}})})};p(window,\"resize\",function(){a(e)});var o=function(){i.scroll=h()};return p(window,\"scroll\",function(){a(o)}),i.collections}z.prototype=new T,z.constructor=z,z.prototype.prepareCollections=function(){var t=this;t.collections.create=t.create.bind(t),t.collections.on=t.on.bind(t),t.collections.off=t.off.bind(t),t.collections.destroy=t.destroy.bind(t),t.collections.get=function(i){var e;return t.collections.every(function(t){return!(e=t.get(i))}),e}},z.prototype.create=function(t){return this.createCollection(t)},z.prototype.createCollection=function(t){var i=new I(this,t);return this.bindCollection(i),this.collections.push(i),i},z.prototype.bindCollection=function(t){var i,e=this,o=function(t,o){i=t.type+\" \"+o.id+\":\"+t.type,e.trigger(i,o)};t.on(\"destroyed\",e.onDestroyed.bind(e)),t.on(\"shown hidden rested dir plain\",o),t.on(\"dir:up dir:right dir:down dir:left\",o),t.on(\"plain:up plain:right plain:down plain:left\",o)},z.prototype.bindDocument=function(){this.binded||(this.bindEvt(document,\"move\").bindEvt(document,\"end\"),this.binded=!0)},z.prototype.unbindDocument=function(t){Object.keys(this.ids).length&&!0!==t||(this.unbindEvt(document,\"move\").unbindEvt(document,\"end\"),this.binded=!1)},z.prototype.getIdentifier=function(t){var i;return t?void 0===(i=void 0===t.identifier?t.pointerId:t.identifier)&&(i=this.latest||0):i=this.index,void 0===this.ids[i]&&(this.ids[i]=this.index,this.index+=1),this.latest=i,this.ids[i]},z.prototype.removeIdentifier=function(t){var i={};for(var e in this.ids)if(this.ids[e]===t){i.id=e,i.identifier=this.ids[e],delete this.ids[e];break}return i},z.prototype.onmove=function(t){return this.onAny(\"move\",t),!1},z.prototype.onend=function(t){return this.onAny(\"end\",t),!1},z.prototype.oncancel=function(t){return this.onAny(\"end\",t),!1},z.prototype.onAny=function(t,i){var e,o=this,n=\"processOn\"+t.charAt(0).toUpperCase()+t.slice(1);i=l(i);return v(i,function(t){e=o.getIdentifier(t),v(o.collections,function(t,i,e){e.ids.indexOf(i)>=0&&(e[n](t),t._found_=!0)}.bind(null,t,e)),t._found_||o.removeIdentifier(e)}),!1},z.prototype.destroy=function(){this.unbindDocument(!0),this.ids={},this.index=0,this.collections.forEach(function(t){t.destroy()}),this.off()},z.prototype.onDestroyed=function(t,i){if(this.collections.indexOf(i)<0)return!1;this.collections.splice(this.collections.indexOf(i),1)};var D=new z;i.default={create:function(t){return D.create(t)},factory:D}}]).default});","const EPS = 0.1;\r\n\r\nmodule.exports = AFRAME.registerComponent('checkpoint-controls', {\r\n  schema: {\r\n    enabled: {default: true},\r\n    mode: {default: 'teleport', oneOf: ['teleport', 'animate']},\r\n    animateSpeed: {default: 3.0}\r\n  },\r\n\r\n  init: function () {\r\n    this.active = true;\r\n    this.checkpoint = null;\r\n\r\n    this.isNavMeshConstrained = false;\r\n\r\n    this.offset = new THREE.Vector3();\r\n    this.position = new THREE.Vector3();\r\n    this.targetPosition = new THREE.Vector3();\r\n  },\r\n\r\n  play: function () { this.active = true; },\r\n  pause: function () { this.active = false; },\r\n\r\n  setCheckpoint: function (checkpoint) {\r\n    const el = this.el;\r\n\r\n    if (!this.active) return;\r\n    if (this.checkpoint === checkpoint) return;\r\n\r\n    if (this.checkpoint) {\r\n      el.emit('navigation-end', {checkpoint: this.checkpoint});\r\n    }\r\n\r\n    this.checkpoint = checkpoint;\r\n    this.sync();\r\n\r\n    // Ignore new checkpoint if we're already there.\r\n    if (this.position.distanceTo(this.targetPosition) < EPS) {\r\n      this.checkpoint = null;\r\n      return;\r\n    }\r\n\r\n    el.emit('navigation-start', {checkpoint: checkpoint});\r\n\r\n    if (this.data.mode === 'teleport') {\r\n      this.el.setAttribute('position', this.targetPosition);\r\n      this.checkpoint = null;\r\n      el.emit('navigation-end', {checkpoint: checkpoint});\r\n      el.components['movement-controls'].updateNavLocation();\r\n    }\r\n  },\r\n\r\n  isVelocityActive: function () {\r\n    return !!(this.active && this.checkpoint);\r\n  },\r\n\r\n  getVelocity: function () {\r\n    if (!this.active) return;\r\n\r\n    const data = this.data;\r\n    const offset = this.offset;\r\n    const position = this.position;\r\n    const targetPosition = this.targetPosition;\r\n    const checkpoint = this.checkpoint;\r\n\r\n    this.sync();\r\n    if (position.distanceTo(targetPosition) < EPS) {\r\n      this.checkpoint = null;\r\n      this.el.emit('navigation-end', {checkpoint: checkpoint});\r\n      return offset.set(0, 0, 0);\r\n    }\r\n    offset.setLength(data.animateSpeed);\r\n    return offset;\r\n  },\r\n\r\n  sync: function () {\r\n    const offset = this.offset;\r\n    const position = this.position;\r\n    const targetPosition = this.targetPosition;\r\n\r\n    position.copy(this.el.getAttribute('position'));\r\n    this.checkpoint.object3D.getWorldPosition(targetPosition);\r\n    targetPosition.add(this.checkpoint.components.checkpoint.getOffset());\r\n    offset.copy(targetPosition).sub(position);\r\n  }\r\n});\r\n","/**\r\n * Gamepad controls for A-Frame.\r\n *\r\n * Stripped-down version of: https://github.com/donmccurdy/aframe-gamepad-controls\r\n *\r\n * For more information about the Gamepad API, see:\r\n * https://developer.mozilla.org/en-US/docs/Web/API/Gamepad_API/Using_the_Gamepad_API\r\n */\r\n\r\nconst GamepadButton = require('../../lib/GamepadButton'),\r\n    GamepadButtonEvent = require('../../lib/GamepadButtonEvent');\r\n\r\nconst JOYSTICK_EPS = 0.2;\r\n\r\nconst Hand = {\r\n  LEFT: 'left',\r\n  RIGHT: 'right'\r\n};\r\n\r\nconst Joystick = {\r\n  MOVEMENT: 1,\r\n  ROTATION: 2\r\n};\r\n\r\nmodule.exports = AFRAME.registerComponent('gamepad-controls', {\r\n\r\n  /*******************************************************************\r\n   * Statics\r\n   */\r\n\r\n  GamepadButton: GamepadButton,\r\n\r\n  /*******************************************************************\r\n   * Schema\r\n   */\r\n\r\n  schema: {\r\n    // Enable/disable gamepad-controls\r\n    enabled: { default: true },\r\n\r\n    // Rotation sensitivity\r\n    rotationSensitivity: { default: 2.0 },\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Core\r\n   */\r\n\r\n  /**\r\n   * Called once when component is attached. Generally for initial setup.\r\n   */\r\n  init: function () {\r\n    const sceneEl = this.el.sceneEl;\r\n\r\n    // tracked-controls-webxr was renamed to tracked-controls in aframe 1.7.0\r\n    // tracked-controls-webxr is for aframe 1.6.0 and below\r\n    this.system = sceneEl.systems['tracked-controls'] || sceneEl.systems['tracked-controls-webxr'] || {controllers: []};\r\n\r\n    this.prevTime = window.performance.now();\r\n\r\n    // Button state\r\n    this.buttons = {};\r\n\r\n    // Rotation\r\n    const rotation = this.el.object3D.rotation;\r\n    this.pitch = new THREE.Object3D();\r\n    this.pitch.rotation.x = rotation.x;\r\n    this.yaw = new THREE.Object3D();\r\n    this.yaw.position.y = 10;\r\n    this.yaw.rotation.y = rotation.y;\r\n    this.yaw.add(this.pitch);\r\n\r\n    this._lookVector = new THREE.Vector2();\r\n    this._moveVector = new THREE.Vector2();\r\n    this._dpadVector = new THREE.Vector2();\r\n\r\n    sceneEl.addBehavior(this);\r\n  },\r\n\r\n  /**\r\n   * Called when component is attached and when component data changes.\r\n   * Generally modifies the entity based on the data.\r\n   */\r\n  update: function () { this.tick(); },\r\n\r\n  /**\r\n   * Called on each iteration of main render loop.\r\n   */\r\n  tick: function (t, dt) {\r\n    this.updateButtonState();\r\n    this.updateRotation(dt);\r\n  },\r\n\r\n  /**\r\n   * Called when a component is removed (e.g., via removeAttribute).\r\n   * Generally undoes all modifications to the entity.\r\n   */\r\n  remove: function () { },\r\n\r\n  /*******************************************************************\r\n   * Movement\r\n   */\r\n\r\n  isVelocityActive: function () {\r\n    if (!this.data.enabled || !this.isConnected()) return false;\r\n\r\n    const dpad = this._dpadVector;\r\n    const joystick = this._moveVector;\r\n\r\n    this.getDpad(dpad);\r\n    this.getJoystick(Joystick.MOVEMENT, joystick);\r\n\r\n    const inputX = dpad.x || joystick.x;\r\n    const inputY = dpad.y || joystick.y;\r\n\r\n    return Math.abs(inputX) > JOYSTICK_EPS || Math.abs(inputY) > JOYSTICK_EPS;\r\n  },\r\n\r\n  getVelocityDelta: function () {\r\n    const dpad = this._dpadVector;\r\n    const joystick = this._moveVector;\r\n\r\n    this.getDpad(dpad);\r\n    this.getJoystick(Joystick.MOVEMENT, joystick);\r\n\r\n    const inputX = dpad.x || joystick.x;\r\n    const inputY = dpad.y || joystick.y;\r\n    const dVelocity = new THREE.Vector3();\r\n\r\n    if (Math.abs(inputX) > JOYSTICK_EPS) {\r\n      dVelocity.x += inputX;\r\n    }\r\n    if (Math.abs(inputY) > JOYSTICK_EPS) {\r\n      dVelocity.z += inputY;\r\n    }\r\n\r\n    return dVelocity;\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Rotation\r\n   */\r\n\r\n  isRotationActive: function () {\r\n    if (!this.data.enabled || !this.isConnected()) return false;\r\n\r\n    const joystick = this._lookVector;\r\n\r\n    this.getJoystick(Joystick.ROTATION, joystick);\r\n\r\n    return Math.abs(joystick.x) > JOYSTICK_EPS || Math.abs(joystick.y) > JOYSTICK_EPS;\r\n  },\r\n\r\n  updateRotation: function (dt) {\r\n    if (!this.isRotationActive()) return;\r\n\r\n    const data = this.data;\r\n    const yaw = this.yaw;\r\n    const pitch = this.pitch;\r\n\r\n    // First copy camera rig pitch/yaw, it may have been changed from\r\n    // another component.\r\n    yaw.rotation.y = this.el.object3D.rotation.y;\r\n    pitch.rotation.x = this.el.object3D.rotation.x;\r\n\r\n    const lookVector = this._lookVector;\r\n\r\n    this.getJoystick(Joystick.ROTATION, lookVector);\r\n\r\n    if (Math.abs(lookVector.x) <= JOYSTICK_EPS) lookVector.x = 0;\r\n    if (Math.abs(lookVector.y) <= JOYSTICK_EPS) lookVector.y = 0;\r\n\r\n    lookVector.multiplyScalar(data.rotationSensitivity * dt / 1000);\r\n    yaw.rotation.y -= lookVector.x;\r\n    pitch.rotation.x -= lookVector.y;\r\n    pitch.rotation.x = Math.max(- Math.PI / 2, Math.min(Math.PI / 2, pitch.rotation.x));\r\n    this.el.object3D.rotation.set(pitch.rotation.x, yaw.rotation.y, 0);\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Button events\r\n   */\r\n\r\n  updateButtonState: function () {\r\n    const gamepad = this.getGamepad(Hand.RIGHT);\r\n    if (this.data.enabled && gamepad) {\r\n\r\n      // Fire DOM events for button state changes.\r\n      for (var i = 0; i < gamepad.buttons.length; i++) {\r\n        if (gamepad.buttons[i].pressed && !this.buttons[i]) {\r\n          this.emit(new GamepadButtonEvent('gamepadbuttondown', i, gamepad.buttons[i]));\r\n        } else if (!gamepad.buttons[i].pressed && this.buttons[i]) {\r\n          this.emit(new GamepadButtonEvent('gamepadbuttonup', i, gamepad.buttons[i]));\r\n        }\r\n        this.buttons[i] = gamepad.buttons[i].pressed;\r\n      }\r\n\r\n    } else {\r\n      // Reset state if controls are disabled or controller is lost.\r\n      for (const key in this.buttons) { this.buttons[key] = false; }\r\n    }\r\n  },\r\n\r\n  emit: function (event) {\r\n    // Emit original event.\r\n    this.el.emit(event.type, event);\r\n\r\n    // Emit convenience event, identifying button index.\r\n    this.el.emit(\r\n      event.type + ':' + event.index,\r\n      new GamepadButtonEvent(event.type, event.index, event)\r\n    );\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Gamepad state\r\n   */\r\n\r\n  /**\r\n   * Returns the Gamepad instance attached to the component. If connected,\r\n   * a proxy-controls component may provide access to Gamepad input from a\r\n   * remote device.\r\n   *\r\n   * @param {string} handPreference\r\n   * @return {Gamepad}\r\n   */\r\n  getGamepad: (function () {\r\n    const _xrGamepads = [];\r\n    const _empty = [];\r\n\r\n    return function (handPreference) {\r\n      // https://github.com/donmccurdy/aframe-proxy-controls\r\n      const proxyControls = this.el.sceneEl.components['proxy-controls'];\r\n      const proxyGamepad = proxyControls && proxyControls.isConnected()\r\n        && proxyControls.getGamepad(0);\r\n      if (proxyGamepad) return proxyGamepad;\r\n\r\n      // https://www.w3.org/TR/webxr/#dom-xrinputsource-handedness\r\n      _xrGamepads.length = 0;\r\n      for (let i = 0; i < this.system.controllers.length; i++) {\r\n        const xrController = this.system.controllers[i];\r\n        const xrGamepad = xrController ? xrController.gamepad : null;\r\n        _xrGamepads.push(xrGamepad);\r\n        if (xrGamepad && xrController.handedness === handPreference) return xrGamepad;\r\n      }\r\n\r\n      // https://developer.mozilla.org/en-US/docs/Web/API/Gamepad/hand\r\n      const navGamepads = navigator.getGamepads ? navigator.getGamepads() : _empty;\r\n      for (let i = 0; i < navGamepads.length; i++) {\r\n        const navGamepad = navGamepads[i];\r\n        if (navGamepad && navGamepad.hand === handPreference) return navGamepad;\r\n      }\r\n\r\n      return _xrGamepads[0] || navGamepads[0];\r\n    };\r\n  })(),\r\n\r\n  /**\r\n   * Returns the state of the given button.\r\n   * @param  {number} index The button (0-N) for which to find state.\r\n   * @return {GamepadButton}\r\n   */\r\n  getButton: function (index) {\r\n    return this.getGamepad(Hand.RIGHT).buttons[index];\r\n  },\r\n\r\n  /**\r\n   * Returns state of the given axis. Axes are labelled 0-N, where 0-1 will\r\n   * represent X/Y on the first joystick, and 2-3 X/Y on the second.\r\n   * @param  {number} index The axis (0-N) for which to find state.\r\n   * @return {number} On the interval [-1,1].\r\n   */\r\n  getAxis: function (index) {\r\n    return this.getGamepad(index > 1 ? Hand.RIGHT : Hand.LEFT).axes[index];\r\n  },\r\n\r\n  /**\r\n   * Returns the state of the specified joystick as a THREE.Vector2.\r\n   * @param  {Joystick} role\r\n   * @param  {THREE.Vector2} target\r\n   * @return {THREE.Vector2}\r\n   */\r\n  getJoystick: function (index, target) {\r\n    const gamepad = this.getGamepad(index === Joystick.MOVEMENT ? Hand.LEFT : Hand.RIGHT);\r\n    // gamepad can be null here if it becomes disconnected even if isConnected() was called\r\n    // in the same tick before calling getJoystick.\r\n    if (!gamepad) {\r\n      return target.set(0, 0);\r\n    }\r\n    if (gamepad.mapping === 'xr-standard') {\r\n      // See: https://github.com/donmccurdy/aframe-extras/issues/307\r\n      switch (index) {\r\n        case Joystick.MOVEMENT: return target.set(gamepad.axes[2], gamepad.axes[3]);\r\n        case Joystick.ROTATION: return target.set(gamepad.axes[2], 0);\r\n      }\r\n    } else {\r\n      switch (index) {\r\n        case Joystick.MOVEMENT: return target.set(gamepad.axes[0], gamepad.axes[1]);\r\n        case Joystick.ROTATION: return target.set(gamepad.axes[2], gamepad.axes[3]);\r\n      }\r\n    }\r\n    throw new Error('Unexpected joystick index \"%d\".', index);\r\n  },\r\n\r\n  /**\r\n   * Returns the state of the dpad as a THREE.Vector2.\r\n   * @param {THREE.Vector2} target\r\n   * @return {THREE.Vector2}\r\n   */\r\n  getDpad: function (target) {\r\n    const gamepad = this.getGamepad(Hand.LEFT);\r\n    if (!gamepad) {\r\n      return target.set(0, 0);\r\n    }\r\n    if (!gamepad.buttons[GamepadButton.DPAD_RIGHT]) {\r\n      return target.set(0, 0);\r\n    }\r\n    return target.set(\r\n      (gamepad.buttons[GamepadButton.DPAD_RIGHT].pressed ? 1 : 0)\r\n      + (gamepad.buttons[GamepadButton.DPAD_LEFT].pressed ? -1 : 0),\r\n      (gamepad.buttons[GamepadButton.DPAD_UP].pressed ? -1 : 0)\r\n      + (gamepad.buttons[GamepadButton.DPAD_DOWN].pressed ? 1 : 0)\r\n    );\r\n  },\r\n\r\n  /**\r\n   * Returns true if the gamepad is currently connected to the system.\r\n   * @return {boolean}\r\n   */\r\n  isConnected: function () {\r\n    const gamepad = this.getGamepad(Hand.LEFT);\r\n    return !!(gamepad && gamepad.connected);\r\n  },\r\n\r\n  /**\r\n   * Returns a string containing some information about the controller. Result\r\n   * may vary across browsers, for a given controller.\r\n   * @return {string}\r\n   */\r\n  getID: function () {\r\n    return this.getGamepad(Hand.LEFT).id;\r\n  }\r\n});\r\n","/* global AFRAME, THREE */\r\n/* eslint-disable no-prototype-builtins */\r\nrequire('../../lib/keyboard.polyfill');\r\n\r\nconst PROXY_FLAG = '__keyboard-controls-proxy';\r\n\r\nconst KeyboardEvent = window.KeyboardEvent;\r\n\r\n/**\r\n * Keyboard Controls component.\r\n *\r\n * Stripped-down version of: https://github.com/donmccurdy/aframe-keyboard-controls\r\n *\r\n * Bind keyboard events to components, or control your entities with the WASD keys.\r\n *\r\n * Why use KeyboardEvent.code? \"This is set to a string representing the key that was pressed to\r\n * generate the KeyboardEvent, without taking the current keyboard layout (e.g., QWERTY vs.\r\n * Dvorak), locale (e.g., English vs. French), or any modifier keys into account. This is useful\r\n * when you care about which physical key was pressed, rather thanwhich character it corresponds\r\n * to. For example, if youre a writing a game, you might want a certain set of keys to move the\r\n * player in different directions, and that mapping should ideally be independent of keyboard\r\n * layout. See: https://developers.google.com/web/updates/2016/04/keyboardevent-keys-codes\r\n *\r\n * @namespace wasd-controls\r\n * keys the entity moves and if you release it will stop. Easing simulates friction.\r\n * to the entity when pressing the keys.\r\n * @param {bool} [enabled=true] - To completely enable or disable the controls\r\n */\r\nmodule.exports = AFRAME.registerComponent('keyboard-controls', {\r\n  schema: {\r\n    enabled:           { default: true },\r\n    debug:             { default: false }\r\n  },\r\n\r\n  init: function () {\r\n    this.dVelocity = new THREE.Vector3();\r\n    this.localKeys = {};\r\n    this.listeners = {\r\n      keydown: this.onKeyDown.bind(this),\r\n      keyup: this.onKeyUp.bind(this),\r\n      blur: this.onBlur.bind(this),\r\n      onContextMenu: this.onContextMenu.bind(this),\r\n    };\r\n  },\r\n\r\n  /*******************************************************************\r\n  * Movement\r\n  */\r\n\r\n  isVelocityActive: function () {\r\n    return this.data.enabled && !!Object.keys(this.getKeys()).length;\r\n  },\r\n\r\n  getVelocityDelta: function () {\r\n    const data = this.data;\r\n    const keys = this.getKeys();\r\n\r\n    this.dVelocity.set(0, 0, 0);\r\n    if (data.enabled) {\r\n      if (keys.KeyW || keys.ArrowUp)    { this.dVelocity.z -= 1; }\r\n      if (keys.KeyA || keys.ArrowLeft)  { this.dVelocity.x -= 1; }\r\n      if (keys.KeyS || keys.ArrowDown)  { this.dVelocity.z += 1; }\r\n      if (keys.KeyD || keys.ArrowRight) { this.dVelocity.x += 1; }\r\n\r\n      // Move faster when the shift key is down.\r\n      if (keys.ShiftLeft) { this.dVelocity = this.dVelocity.multiplyScalar(2); }\r\n    }\r\n\r\n    return this.dVelocity.clone();\r\n  },\r\n\r\n  /*******************************************************************\r\n  * Events\r\n  */\r\n\r\n  play: function () {\r\n    this.attachEventListeners();\r\n  },\r\n\r\n  pause: function () {\r\n    this.removeEventListeners();\r\n  },\r\n\r\n  attachEventListeners: function () {\r\n    window.addEventListener(\"contextmenu\", this.listeners.onContextMenu, false);\r\n    window.addEventListener(\"keydown\", this.listeners.keydown, false);\r\n    window.addEventListener(\"keyup\", this.listeners.keyup, false);\r\n    window.addEventListener(\"blur\", this.listeners.blur, false);\r\n  },\r\n\r\n  onContextMenu: function () {\r\n    for (const code in this.localKeys) {\r\n      if (this.localKeys.hasOwnProperty(code)) {\r\n        delete this.localKeys[code];\r\n      }\r\n    }\r\n  },\r\n\r\n  removeEventListeners: function () {\r\n    window.removeEventListener('keydown', this.listeners.keydown);\r\n    window.removeEventListener('keyup', this.listeners.keyup);\r\n    window.removeEventListener('blur', this.listeners.blur);\r\n  },\r\n\r\n  onKeyDown: function (event) {\r\n    if (AFRAME.utils.shouldCaptureKeyEvent(event)) {\r\n      this.localKeys[event.code] = true;\r\n      this.emit(event);\r\n    }\r\n  },\r\n\r\n  onKeyUp: function (event) {\r\n    if (AFRAME.utils.shouldCaptureKeyEvent(event)) {\r\n      delete this.localKeys[event.code];\r\n      this.emit(event);\r\n    }\r\n  },\r\n\r\n  onBlur: function () {\r\n    for (const code in this.localKeys) {\r\n      if (this.localKeys.hasOwnProperty(code)) {\r\n        delete this.localKeys[code];\r\n      }\r\n    }\r\n  },\r\n\r\n  emit: function (event) {\r\n    // TODO - keydown only initially?\r\n    // TODO - where the f is the spacebar\r\n\r\n    // Emit original event.\r\n    if (PROXY_FLAG in event) {\r\n      // TODO - Method never triggered.\r\n      this.el.emit(event.type, event);\r\n    }\r\n\r\n    // Emit convenience event, identifying key.\r\n    this.el.emit(event.type + ':' + event.code, new KeyboardEvent(event.type, event));\r\n    if (this.data.debug) console.log(event.type + ':' + event.code);\r\n  },\r\n\r\n  /*******************************************************************\r\n  * Accessors\r\n  */\r\n\r\n  isPressed: function (code) {\r\n    return code in this.getKeys();\r\n  },\r\n\r\n  getKeys: function () {\r\n    if (this.isProxied()) {\r\n      return this.el.sceneEl.components['proxy-controls'].getKeyboard();\r\n    }\r\n    return this.localKeys;\r\n  },\r\n\r\n  isProxied: function () {\r\n    const proxyControls = this.el.sceneEl.components['proxy-controls'];\r\n    return proxyControls && proxyControls.isConnected();\r\n  }\r\n\r\n});\r\n","/**\r\n * Movement Controls\r\n *\r\n * @author Don McCurdy <dm@donmccurdy.com>\r\n */\r\n\r\nconst COMPONENT_SUFFIX = '-controls';\r\nconst MAX_DELTA = 0.2; // ms\r\nconst EPS = 10e-6;\r\nconst MOVED = 'moved';\r\n\r\nmodule.exports = AFRAME.registerComponent('movement-controls', {\r\n\r\n  /*******************************************************************\r\n   * Schema\r\n   */\r\n\r\n  dependencies: ['rotation'],\r\n\r\n  schema: {\r\n    enabled:            { default: true },\r\n    controls:           { default: ['gamepad', 'trackpad', 'keyboard', 'touch'] },\r\n    speed:              { default: 0.3, min: 0 },\r\n    fly:                { default: false },\r\n    constrainToNavMesh: { default: false },\r\n    camera:             { default: '[movement-controls] [camera]', type: 'selector' }\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Lifecycle\r\n   */\r\n\r\n  init: function () {\r\n    const el = this.el;\r\n    if (!this.data.camera) {\r\n      this.data.camera = el.querySelector('[camera]');\r\n    }\r\n    this.velocityCtrl = null;\r\n\r\n    this.velocity = new THREE.Vector3();\r\n    this.heading = new THREE.Quaternion();\r\n    this.eventDetail = {};\r\n\r\n    // Navigation\r\n    this.navGroup = null;\r\n    this.navNode = null;\r\n\r\n    if (el.sceneEl.hasLoaded) {\r\n      this.injectControls();\r\n    } else {\r\n      el.sceneEl.addEventListener('loaded', this.injectControls.bind(this));\r\n    }\r\n  },\r\n\r\n  update: function (prevData) {\r\n    const el = this.el;\r\n    const data = this.data;\r\n    const nav = el.sceneEl.systems.nav;\r\n    if (el.sceneEl.hasLoaded) {\r\n      this.injectControls();\r\n    }\r\n    if (nav && data.constrainToNavMesh !== prevData.constrainToNavMesh) {\r\n      data.constrainToNavMesh\r\n        ? nav.addAgent(this)\r\n        : nav.removeAgent(this);\r\n    }\r\n    if (data.enabled !== prevData.enabled) {\r\n      // Propagate the enabled change to all controls\r\n      for (let i = 0; i < data.controls.length; i++) {\r\n        const name = data.controls[i] + COMPONENT_SUFFIX;\r\n        this.el.setAttribute(name, { enabled: this.data.enabled });\r\n      }\r\n    }\r\n  },\r\n\r\n  injectControls: function () {\r\n    const data = this.data;\r\n\r\n    for (let i = 0; i < data.controls.length; i++) {\r\n      const name = data.controls[i] + COMPONENT_SUFFIX;\r\n      this.el.setAttribute(name, { enabled: this.data.enabled });\r\n    }\r\n  },\r\n\r\n  updateNavLocation: function () {\r\n    this.navGroup = null;\r\n    this.navNode = null;\r\n  },\r\n\r\n  /*******************************************************************\r\n   * Tick\r\n   */\r\n\r\n  tick: (function () {\r\n    const start = new THREE.Vector3();\r\n    const end = new THREE.Vector3();\r\n    const clampedEnd = new THREE.Vector3();\r\n\r\n    return function (t, dt) {\r\n      if (!dt) return;\r\n\r\n      const el = this.el;\r\n      const data = this.data;\r\n\r\n      if (!data.enabled) return;\r\n\r\n      this.updateVelocityCtrl();\r\n      const velocityCtrl = this.velocityCtrl;\r\n      const velocity = this.velocity;\r\n\r\n      if (!velocityCtrl) return;\r\n\r\n      // Update velocity. If FPS is too low, reset.\r\n      if (dt / 1000 > MAX_DELTA) {\r\n        velocity.set(0, 0, 0);\r\n      } else {\r\n        this.updateVelocity(dt);\r\n      }\r\n\r\n      if (data.constrainToNavMesh\r\n          && velocityCtrl.isNavMeshConstrained !== false) {\r\n\r\n        if (velocity.lengthSq() < EPS) {\r\n            // TODO: \r\n            // can't cache this.navNode because when the start position changed by other controls \r\n            // this.navNode may not be the closest node any more, we need recompute it. Otherwise,\r\n            // clampStep may result in wrong clamp\r\n            this.navNode = null; // give this.navNode a chance to recalculate\r\n            return;\r\n        };\r\n\r\n        start.copy(el.object3D.position);\r\n        end\r\n          .copy(velocity)\r\n          .multiplyScalar(dt / 1000)\r\n          .add(start);\r\n\r\n        const nav = el.sceneEl.systems.nav;\r\n\r\n        this.navGroup = this.navGroup === null ? nav.getGroup(start) : this.navGroup;\r\n        if (this.navGroup != null && !this.navNode) {\r\n            this.navNode = nav.getNode(start, this.navGroup);\r\n        }\r\n        if (this.navNode) {\r\n            // navNodeclampStepclampedEndnavMesh\r\n            this.navNode = nav.clampStep(start, end, this.navGroup, this.navNode, clampedEnd);\r\n            el.object3D.position.copy(clampedEnd);\r\n        }\r\n        \r\n      } else if (el.hasAttribute('velocity')) {\r\n        el.setAttribute('velocity', velocity);\r\n      } else {\r\n        el.object3D.position.x += velocity.x * dt / 1000;\r\n        el.object3D.position.y += velocity.y * dt / 1000;\r\n        el.object3D.position.z += velocity.z * dt / 1000;\r\n      }\r\n\r\n    };\r\n  }()),\r\n\r\n  /*******************************************************************\r\n   * Movement\r\n   */\r\n\r\n  updateVelocityCtrl: function () {\r\n    const data = this.data;\r\n    if (data.enabled) {\r\n      for (let i = 0, l = data.controls.length; i < l; i++) {\r\n        const control = this.el.components[data.controls[i] + COMPONENT_SUFFIX];\r\n        if (control && control.isVelocityActive()) {\r\n          this.velocityCtrl = control;\r\n          return;\r\n        }\r\n      }\r\n      this.velocityCtrl = null;\r\n    }\r\n  },\r\n\r\n  updateVelocity: (function () {\r\n    const vector2 = new THREE.Vector2();\r\n    const quaternion = new THREE.Quaternion();\r\n\r\n    return function (dt) {\r\n      let dVelocity;\r\n      const el = this.el;\r\n      const control = this.velocityCtrl;\r\n      const velocity = this.velocity;\r\n      const data = this.data;\r\n\r\n      if (control) {\r\n        if (control.getVelocityDelta) {\r\n          dVelocity = control.getVelocityDelta(dt);\r\n        } else if (control.getVelocity) {\r\n          velocity.copy(control.getVelocity());\r\n          return;\r\n        } else if (control.getPositionDelta) {\r\n          velocity.copy(control.getPositionDelta(dt).multiplyScalar(1000 / dt));\r\n          return;\r\n        } else {\r\n          throw new Error('Incompatible movement controls: ', control);\r\n        }\r\n      }\r\n\r\n      if (el.hasAttribute('velocity') && !data.constrainToNavMesh) {\r\n        velocity.copy(this.el.getAttribute('velocity'));\r\n      }\r\n\r\n      if (dVelocity && data.enabled) {\r\n        const cameraEl = data.camera;\r\n\r\n        // Rotate to heading\r\n        quaternion.copy(cameraEl.object3D.quaternion);\r\n        quaternion.premultiply(el.object3D.quaternion);\r\n        dVelocity.applyQuaternion(quaternion);\r\n\r\n        const factor = dVelocity.length();\r\n        if (data.fly) {\r\n          velocity.copy(dVelocity);\r\n          velocity.multiplyScalar(this.data.speed * 16.66667);\r\n        } else {\r\n          vector2.set(dVelocity.x, dVelocity.z);\r\n          vector2.setLength(factor * this.data.speed * 16.66667);\r\n          velocity.x = vector2.x;\r\n          velocity.y = 0;\r\n          velocity.z = vector2.y;\r\n        }\r\n        if (velocity.x !== 0 || velocity.y !== 0 || velocity.z !== 0) {\r\n          this.eventDetail.velocity = velocity;\r\n          this.el.emit(MOVED, this.eventDetail);\r\n        }\r\n      }\r\n    };\r\n\r\n  }())\r\n});\r\n","/* global AFRAME, THREE */\r\nimport nipplejs from \"nipplejs\";\r\n\r\nAFRAME.registerComponent(\"nipple-controls\", {\r\n  schema: {\r\n    enabled: { default: true },\r\n    mode: { default: \"dynamic\", oneOf: [\"static\", \"semi\", \"dynamic\"] },\r\n    rotationSensitivity: { default: 1.0 },\r\n    moveJoystickEnabled: { default: true },\r\n    lookJoystickEnabled: { default: true },\r\n    sideMargin: { default: \"30px\" },\r\n    bottomMargin: { default: \"70px\" },\r\n    moveJoystickPosition: { default: \"left\", oneOf: [\"left\", \"right\"] },\r\n    lookJoystickPosition: { default: \"right\", oneOf: [\"left\", \"right\"] },\r\n  },\r\n\r\n  init() {\r\n    this.dVelocity = new THREE.Vector3();\r\n    this.lookVector = new THREE.Vector2();\r\n    const lookControls = this.el.querySelector(\"[look-controls]\").components[\"look-controls\"];\r\n    this.pitchObject = lookControls.pitchObject;\r\n    this.yawObject = lookControls.yawObject;\r\n    this.rigRotation = this.el.object3D.rotation;\r\n    this.moveData = undefined;\r\n    this.lookData = undefined;\r\n    this.moving = false;\r\n    this.rotating = false;\r\n  },\r\n\r\n  update(oldData) {\r\n    if (\r\n      this.data.moveJoystickPosition !== oldData.moveJoystickPosition ||\r\n      this.data.sideMargin !== oldData.sideMargin ||\r\n      this.data.bottomMargin !== oldData.bottomMargin ||\r\n      this.data.mode !== oldData.mode\r\n    ) {\r\n      this.removeMoveJoystick();\r\n    }\r\n    if (\r\n      this.data.lookJoystickPosition !== oldData.lookJoystickPosition ||\r\n      this.data.sideMargin !== oldData.sideMargin ||\r\n      this.data.bottomMargin !== oldData.bottomMargin ||\r\n      this.data.mode !== oldData.mode\r\n    ) {\r\n      this.removeLookJoystick();\r\n    }\r\n    if (this.data.enabled && this.data.moveJoystickEnabled) {\r\n      this.createMoveJoystick();\r\n    } else {\r\n      this.removeMoveJoystick();\r\n    }\r\n    if (this.data.enabled && this.data.lookJoystickEnabled) {\r\n      this.createLookJoystick();\r\n    } else {\r\n      this.removeLookJoystick();\r\n    }\r\n  },\r\n\r\n  pause() {\r\n    this.moving = false;\r\n    this.rotating = false;\r\n  },\r\n\r\n  remove() {\r\n    this.removeMoveJoystick();\r\n    this.removeLookJoystick();\r\n  },\r\n\r\n  isVelocityActive() {\r\n    return this.data.enabled && this.moving;\r\n  },\r\n\r\n  getVelocityDelta() {\r\n    this.dVelocity.set(0, 0, 0);\r\n    if (this.isVelocityActive()) {\r\n      const force = this.moveData.force < 1 ? this.moveData.force : 1;\r\n      const angle = this.moveData.angle.radian;\r\n      const x = Math.cos(angle) * force;\r\n      const z = -Math.sin(angle) * force;\r\n      this.dVelocity.set(x, 0, z);\r\n    }\r\n    return this.dVelocity; // We don't do a clone() here, the Vector3 will be modified by the calling code but that's fine.\r\n  },\r\n\r\n  isRotationActive() {\r\n    return this.data.enabled && this.rotating;\r\n  },\r\n\r\n  updateRotation(dt) {\r\n    if (!this.isRotationActive()) return;\r\n\r\n    const force = this.lookData.force < 1 ? this.lookData.force : 1;\r\n    const angle = this.lookData.angle.radian;\r\n    const lookVector = this.lookVector;\r\n    lookVector.x = Math.cos(angle) * force;\r\n    lookVector.y = Math.sin(angle) * force;\r\n    lookVector.multiplyScalar((this.data.rotationSensitivity * dt) / 1000);\r\n\r\n    this.yawObject.rotation.y -= lookVector.x;\r\n    let x = this.pitchObject.rotation.x + lookVector.y;\r\n    x = Math.max(-Math.PI / 2, Math.min(Math.PI / 2, x));\r\n    this.pitchObject.rotation.x = x;\r\n  },\r\n\r\n  tick: function (t, dt) {\r\n    this.updateRotation(dt);\r\n  },\r\n\r\n  initLeftZone() {\r\n    const leftZone = document.createElement(\"div\");\r\n    leftZone.setAttribute(\"id\", \"joystickLeftZone\");\r\n    leftZone.setAttribute(\r\n      \"style\",\r\n      `position:absolute;${this.data.moveJoystickPosition}:${this.data.sideMargin};bottom:${this.data.bottomMargin};z-index:1`\r\n    );\r\n    document.body.appendChild(leftZone);\r\n    this.leftZone = leftZone;\r\n  },\r\n\r\n  initRightZone() {\r\n    const rightZone = document.createElement(\"div\");\r\n    rightZone.setAttribute(\"id\", \"joystickRightZone\");\r\n    rightZone.setAttribute(\r\n      \"style\",\r\n      `position:absolute;${this.data.lookJoystickPosition}:${this.data.sideMargin};bottom:${this.data.bottomMargin};z-index:1`\r\n    );\r\n    document.body.appendChild(rightZone);\r\n    this.rightZone = rightZone;\r\n  },\r\n\r\n  createMoveJoystick() {\r\n    if (this.moveJoystick) return;\r\n    this.initLeftZone();\r\n    const options = {\r\n      mode: this.data.mode,\r\n      zone: this.leftZone,\r\n      color: \"white\",\r\n      fadeTime: 0,\r\n    };\r\n    this.leftZone.style.width = \"100px\";\r\n    if (this.data.mode === \"static\") {\r\n      this.leftZone.style.height = \"100px\";\r\n      options.position = { left: \"50%\", bottom: \"50%\" };\r\n    } else {\r\n      this.leftZone.style.height = \"400px\";\r\n    }\r\n\r\n    this.moveJoystick = nipplejs.create(options);\r\n    this.moveJoystick.on(\"move\", (evt, data) => {\r\n      this.moveData = data;\r\n      this.moving = true;\r\n    });\r\n    this.moveJoystick.on(\"end\", (evt, data) => {\r\n      this.moving = false;\r\n    });\r\n  },\r\n\r\n  createLookJoystick() {\r\n    if (this.lookJoystick) return;\r\n    this.initRightZone();\r\n    const options = {\r\n      mode: this.data.mode,\r\n      zone: this.rightZone,\r\n      color: \"white\",\r\n      fadeTime: 0,\r\n    };\r\n    this.rightZone.style.width = \"100px\";\r\n    if (this.data.mode === \"static\") {\r\n      this.rightZone.style.height = \"100px\";\r\n      options.position = { left: \"50%\", bottom: \"50%\" };\r\n    } else {\r\n      this.rightZone.style.height = \"400px\";\r\n    }\r\n\r\n    this.lookJoystick = nipplejs.create(options);\r\n    this.lookJoystick.on(\"move\", (evt, data) => {\r\n      this.lookData = data;\r\n      this.rotating = true;\r\n    });\r\n    this.lookJoystick.on(\"end\", (evt, data) => {\r\n      this.rotating = false;\r\n    });\r\n  },\r\n\r\n  removeMoveJoystick() {\r\n    if (this.moveJoystick) {\r\n      this.moveJoystick.destroy();\r\n      this.moveJoystick = undefined;\r\n    }\r\n\r\n    this.moveData = undefined;\r\n\r\n    if (this.leftZone && this.leftZone.parentNode) {\r\n      this.leftZone.remove();\r\n      this.leftZone = undefined;\r\n    }\r\n  },\r\n\r\n  removeLookJoystick() {\r\n    if (this.lookJoystick) {\r\n      this.lookJoystick.destroy();\r\n      this.lookJoystick = undefined;\r\n    }\r\n\r\n    this.lookData = undefined;\r\n\r\n    if (this.rightZone && this.rightZone.parentNode) {\r\n      this.rightZone.remove();\r\n      this.rightZone = undefined;\r\n    }\r\n  },\r\n});\r\n","/**\r\n * Touch-to-move-forward controls for mobile.\r\n */\r\nmodule.exports = AFRAME.registerComponent('touch-controls', {\r\n  schema: {\r\n    enabled: { default: true },\r\n    reverseEnabled: { default: true }\r\n  },\r\n\r\n  init: function () {\r\n    this.dVelocity = new THREE.Vector3();\r\n    this.bindMethods();\r\n    this.direction = 0;\r\n  },\r\n\r\n  play: function () {\r\n    this.addEventListeners();\r\n  },\r\n\r\n  pause: function () {\r\n    this.removeEventListeners();\r\n    this.dVelocity.set(0, 0, 0);\r\n  },\r\n\r\n  remove: function () {\r\n    this.pause();\r\n  },\r\n\r\n  addEventListeners: function () {\r\n    const sceneEl = this.el.sceneEl;\r\n    const canvasEl = sceneEl.canvas;\r\n\r\n    if (!canvasEl) {\r\n      sceneEl.addEventListener('render-target-loaded', this.addEventListeners.bind(this));\r\n      return;\r\n    }\r\n\r\n    canvasEl.addEventListener('touchstart', this.onTouchStart, {passive: true});\r\n    canvasEl.addEventListener('touchend', this.onTouchEnd, {passive: true});\r\n    const vrModeUI = sceneEl.getAttribute('vr-mode-ui');\r\n    if (vrModeUI && vrModeUI.cardboardModeEnabled) {\r\n      sceneEl.addEventListener('enter-vr', this.onEnterVR);\r\n    }\r\n  },\r\n\r\n  removeEventListeners: function () {\r\n    const canvasEl = this.el.sceneEl && this.el.sceneEl.canvas;\r\n    if (!canvasEl) { return; }\r\n\r\n    canvasEl.removeEventListener('touchstart', this.onTouchStart);\r\n    canvasEl.removeEventListener('touchend', this.onTouchEnd);\r\n    this.el.sceneEl.removeEventListener('enter-vr', this.onEnterVR)\r\n  },\r\n\r\n  isVelocityActive: function () {\r\n    return this.data.enabled && !!this.direction;\r\n  },\r\n\r\n  getVelocityDelta: function () {\r\n    this.dVelocity.z = this.direction;\r\n    return this.dVelocity.clone();\r\n  },\r\n\r\n  bindMethods: function () {\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n    this.onEnterVR = this.onEnterVR.bind(this);\r\n  },\r\n\r\n  onTouchStart: function (e) {\r\n    this.direction = -1;\r\n    if (this.data.reverseEnabled && e.touches && e.touches.length === 2) {\r\n      this.direction = 1;\r\n    }\r\n    e.preventDefault();\r\n  },\r\n\r\n  onTouchEnd: function (e) {\r\n    this.direction = 0;\r\n    e.preventDefault();\r\n  },\r\n\r\n  onEnterVR: function () {\r\n    // This is to make the Cardboard button on Chrome Android working\r\n    const xrSession = this.el.sceneEl.xrSession;\r\n    if (!xrSession) { return; }\r\n    xrSession.addEventListener('selectstart', this.onTouchStart);\r\n    xrSession.addEventListener('selectend', this.onTouchEnd);\r\n  }\r\n});\r\n","/**\r\n * 3dof (Gear VR, Daydream) controls for mobile.\r\n */\r\nmodule.exports = AFRAME.registerComponent('trackpad-controls', {\r\n  schema: {\r\n    enabled: { default: true },\r\n    enableNegX: { default: true },\r\n    enablePosX: { default: true },\r\n    enableNegZ: { default: true },\r\n    enablePosZ: { default: true },\r\n    mode: { default: 'touch', oneOf: ['swipe', 'touch', 'press'] }\r\n\r\n  },\r\n\r\n  init: function () {\r\n    this.dVelocity = new THREE.Vector3();\r\n    this.zVel      = 0;\r\n    this.xVel      = 0;\r\n    this.bindMethods();\r\n  },\r\n\r\n  play: function () {\r\n    this.addEventListeners();\r\n  },\r\n\r\n  pause: function () {\r\n    this.removeEventListeners();\r\n    this.dVelocity.set(0, 0, 0);\r\n  },\r\n\r\n  remove: function () {\r\n    this.pause();\r\n  },\r\n\r\n  addEventListeners: function () {\r\n    const data = this.data;\r\n    const sceneEl = this.el.sceneEl;\r\n\r\n    sceneEl.addEventListener('axismove', this.onAxisMove);\r\n\r\n    switch (data.mode) {\r\n      case 'swipe':\r\n      case 'touch':\r\n        sceneEl.addEventListener('trackpadtouchstart', this.onTouchStart);\r\n        sceneEl.addEventListener('trackpadtouchend', this.onTouchEnd);\r\n        break;\r\n\r\n      case 'press':\r\n        sceneEl.addEventListener('trackpaddown', this.onTouchStart);\r\n        sceneEl.addEventListener('trackpadup', this.onTouchEnd);\r\n        break;\r\n    }\r\n\r\n  },\r\n\r\n  removeEventListeners: function () {\r\n    const sceneEl = this.el.sceneEl;\r\n\r\n    sceneEl.removeEventListener('axismove', this.onAxisMove);\r\n    sceneEl.removeEventListener('trackpadtouchstart', this.onTouchStart);\r\n    sceneEl.removeEventListener('trackpadtouchend', this.onTouchEnd);\r\n    sceneEl.removeEventListener('trackpaddown', this.onTouchStart);\r\n    sceneEl.removeEventListener('trackpadup', this.onTouchEnd);\r\n  },\r\n\r\n  isVelocityActive: function () {\r\n    return this.data.enabled && this.isMoving;\r\n  },\r\n\r\n  getVelocityDelta: function () {\r\n    this.dVelocity.z = this.isMoving ? -this.zVel : 1;\r\n    this.dVelocity.x = this.isMoving ? this.xVel : 1;\r\n    return this.dVelocity.clone();\r\n  },\r\n\r\n  bindMethods: function () {\r\n    this.onTouchStart = this.onTouchStart.bind(this);\r\n    this.onTouchEnd = this.onTouchEnd.bind(this);\r\n    this.onAxisMove = this.onAxisMove.bind(this);\r\n  },\r\n\r\n  onTouchStart: function (e) {\r\n    switch(this.data.mode){\r\n      case 'swipe':\r\n        this.canRecordAxis = true;\r\n        this.startingAxisData = [];\r\n        break;\r\n      case 'touch':\r\n        this.isMoving = true;\r\n        break;\r\n      case 'press':\r\n        this.isMoving = true;\r\n        break;\r\n    }\r\n\r\n    e.preventDefault();\r\n  },\r\n\r\n  onTouchEnd: function (e) {\r\n    if(this.data.mode == 'swipe') {\r\n        this.startingAxisData = [];\r\n    }\r\n\r\n    this.isMoving = false;\r\n    e.preventDefault();\r\n  },\r\n\r\n  onAxisMove: function(e){\r\n    switch (this.data.mode) {\r\n      case 'swipe':\r\n        return this.handleSwipeAxis(e);\r\n      case 'touch':\r\n      case 'press':\r\n        return this.handleTouchAxis(e);\r\n    }\r\n  },\r\n\r\n  handleSwipeAxis: function(e) {\r\n    const data = this.data;\r\n    const axisData = e.detail.axis;\r\n\r\n    if(this.startingAxisData.length === 0 && this.canRecordAxis){\r\n      this.canRecordAxis = false;\r\n      this.startingAxisData[0] = axisData[0];\r\n      this.startingAxisData[1] = axisData[1];\r\n    }\r\n\r\n    if(this.startingAxisData.length > 0){\r\n      let velX = 0;\r\n      let velZ = 0;\r\n\r\n      if (data.enableNegX && axisData[0] < this.startingAxisData[0]) {\r\n        velX = -1;\r\n      }\r\n\r\n      if (data.enablePosX && axisData[0] > this.startingAxisData[0]) {\r\n        velX = 1;\r\n      }\r\n\r\n      if (data.enablePosZ && axisData[1] > this.startingAxisData[1]) {\r\n        velZ = -1;\r\n      }\r\n\r\n      if (data.enableNegZ && axisData[1] < this.startingAxisData[1]) {\r\n        velZ = 1;\r\n      }\r\n\r\n      const absChangeZ  = Math.abs(this.startingAxisData[1] - axisData[1]);\r\n      const absChangeX  = Math.abs(this.startingAxisData[0] - axisData[0]);\r\n\r\n      if (absChangeX > absChangeZ) {\r\n        this.zVel = 0;\r\n        this.xVel = velX;\r\n        this.isMoving = true;\r\n      } else {\r\n        this.xVel = 0;\r\n        this.zVel = velZ;\r\n        this.isMoving = true;\r\n      }\r\n\r\n    }\r\n  },\r\n\r\n  handleTouchAxis: function(e) {\r\n    const data = this.data;\r\n    const axisData = e.detail.axis;\r\n\r\n    let velX = 0;\r\n    let velZ = 0;\r\n\r\n    if (data.enableNegX && axisData[0] < 0) {\r\n      velX = -1;\r\n    }\r\n\r\n    if (data.enablePosX && axisData[0] > 0) {\r\n      velX = 1;\r\n    }\r\n\r\n    if (data.enablePosZ && axisData[1] > 0) {\r\n      velZ = -1;\r\n    }\r\n\r\n    if (data.enableNegZ && axisData[1] < 0) {\r\n      velZ = 1;\r\n    }\r\n\r\n    if (Math.abs(axisData[0]) > Math.abs(axisData[1])) {\r\n      this.zVel = 0;\r\n      this.xVel = velX;\r\n    } else {\r\n      this.xVel = 0;\r\n      this.zVel = velZ;\r\n    }\r\n\r\n  }\r\n\r\n});\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","require('./checkpoint-controls');\r\nrequire('./gamepad-controls');\r\nrequire('./keyboard-controls');\r\nrequire('./touch-controls');\r\nrequire('./movement-controls');\r\nrequire('./trackpad-controls');\r\nrequire('./nipple-controls');\r\n"],"names":["root","factory","exports","module","define","amd","a","i","self","Object","assign","FACE_1","FACE_2","FACE_3","FACE_4","L_SHOULDER_1","R_SHOULDER_1","L_SHOULDER_2","R_SHOULDER_2","SELECT","START","DPAD_UP","DPAD_DOWN","DPAD_LEFT","DPAD_RIGHT","VENDOR","type","index","details","this","pressed","value","global","nativeKeyboardEvent","KeyboardEvent","TypeError","DOM_KEY_LOCATION_STANDARD","DOM_KEY_LOCATION_LEFT","DOM_KEY_LOCATION_RIGHT","DOM_KEY_LOCATION_NUMPAD","STANDARD","window","LEFT","RIGHT","NUMPAD","contains","s","ss","String","indexOf","os","navigator","platform","userAgent","browser","vendor","browser_os","mergeIf","baseTable","select","table","keys","forEach","keyCode","keyCodeToInfoTable","code","keyCap","location","keyIdentifierTable","locationTable","codeToKeyTable","ShiftLeft","key","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","OSLeft","OSRight","NumpadEnter","Space","Digit0","shiftKey","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadComma","NumpadSubtract","NumpadDecimal","NumpadDivide","Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash","o","r","keyFixTable","Esc","Nonconvert","Left","Up","Right","Down","Del","Menu","MediaNextTrack","MediaPreviousTrack","SelectMedia","HalfWidth","FullWidth","RomanCharacters","Crsel","Exsel","Zoom","codeTable","k","item","nativeLocation","_","keyInfoForEvent","event","which","keyInfo","keyLocation","keyIdentifier","entry","p","v","defineProperty","prototype","get","desc","getOwnPropertyDescriptor","call","hasOwnProperty","queryKeyCap","locale","toLowerCase","Error","identifyKey","t","e","n","l","m","c","d","enumerable","Symbol","toStringTag","__esModule","create","bind","default","x","y","Math","sqrt","PI","Map","has","clearTimeout","set","setTimeout","split","length","addEventListener","attachEvent","removeEventListener","detachEvent","preventDefault","match","changedTouches","h","pageXOffset","document","documentElement","body","parentNode","scrollLeft","pageYOffset","scrollTop","u","top","right","bottom","left","style","f","slice","charAt","toUpperCase","g","b","PointerEvent","MSPointerEvent","O","start","move","end","w","on","_handlers_","push","off","splice","trigger","target","config","options","defaults","bindEvt","_domHandlers_","apply","arguments","console","warn","unbindEvt","T","identifier","position","frontPosition","collection","size","threshold","color","fadeTime","dataOnly","restJoystick","restOpacity","mode","zone","lockX","lockY","shape","id","buildEl","stylize","instance","el","ui","show","hide","add","addToDom","remove","removeFromDom","destroy","setPosition","resetDirection","computeDirection","constructor","createElement","back","front","className","setAttribute","appendChild","opacity","display","zIndex","width","height","marginLeft","marginTop","background","transform","applyStyles","removeChild","removeTimeout","showTimeout","restTimeout","restCallback","direction","angle","radian","force","P","E","nipples","idles","actives","ids","pressureIntervals","manager","multitouch","maxNumberOfNipples","catchDistance","dynamicPage","follow","getComputedStyle","parentElement","parentIsFlex","updateBox","prepareNipples","bindings","begin","processOnMove","processOnEnd","touchAction","msTouchAction","createNipple","getIdentifier","scroll","box","getBoundingClientRect","bindNipple","onDestroyed","pressureFn","clearInterval","setInterval","pressure","webkitForce","onstart","processOnStart","values","touches","findIndex","bindDocument","pageX","pageY","getOrCreate","removeIdentifier","test","isNaN","buttons","error","atan2","distance","min","cos","sin","max","I","z","D","degree","vector","raw","unbindDocument","collections","prepareCollections","every","createCollection","bindCollection","binded","pointerId","latest","onmove","onAny","onend","oncancel","_found_","AFRAME","registerComponent","schema","enabled","oneOf","animateSpeed","init","active","checkpoint","isNavMeshConstrained","offset","THREE","Vector3","targetPosition","play","pause","setCheckpoint","emit","sync","distanceTo","data","components","updateNavLocation","isVelocityActive","getVelocity","setLength","copy","getAttribute","object3D","getWorldPosition","getOffset","sub","GamepadButton","GamepadButtonEvent","JOYSTICK_EPS","Hand","rotationSensitivity","sceneEl","system","systems","controllers","prevTime","performance","now","rotation","pitch","Object3D","yaw","_lookVector","Vector2","_moveVector","_dpadVector","addBehavior","update","tick","dt","updateButtonState","updateRotation","isConnected","dpad","joystick","getDpad","getJoystick","inputX","inputY","abs","getVelocityDelta","dVelocity","isRotationActive","lookVector","multiplyScalar","gamepad","getGamepad","_xrGamepads","_empty","handPreference","proxyControls","proxyGamepad","xrController","xrGamepad","handedness","navGamepads","getGamepads","navGamepad","hand","getButton","getAxis","axes","mapping","connected","getID","debug","localKeys","listeners","keydown","onKeyDown","keyup","onKeyUp","blur","onBlur","onContextMenu","getKeys","ArrowUp","ArrowLeft","ArrowDown","ArrowRight","clone","attachEventListeners","removeEventListeners","utils","shouldCaptureKeyEvent","log","isPressed","isProxied","getKeyboard","COMPONENT_SUFFIX","dependencies","controls","speed","fly","constrainToNavMesh","camera","querySelector","velocityCtrl","velocity","heading","Quaternion","eventDetail","navGroup","navNode","hasLoaded","injectControls","prevData","nav","addAgent","removeAgent","name","clampedEnd","updateVelocityCtrl","updateVelocity","lengthSq","getGroup","getNode","clampStep","hasAttribute","control","vector2","quaternion","getPositionDelta","cameraEl","premultiply","applyQuaternion","factor","moveJoystickEnabled","lookJoystickEnabled","sideMargin","bottomMargin","moveJoystickPosition","lookJoystickPosition","lookControls","pitchObject","yawObject","rigRotation","moveData","undefined","lookData","moving","rotating","oldData","removeMoveJoystick","removeLookJoystick","createMoveJoystick","createLookJoystick","initLeftZone","leftZone","initRightZone","rightZone","moveJoystick","evt","lookJoystick","reverseEnabled","bindMethods","addEventListeners","canvasEl","canvas","onTouchStart","passive","onTouchEnd","vrModeUI","cardboardModeEnabled","onEnterVR","xrSession","enableNegX","enablePosX","enableNegZ","enablePosZ","zVel","xVel","onAxisMove","isMoving","canRecordAxis","startingAxisData","handleSwipeAxis","handleTouchAxis","axisData","detail","axis","velX","velZ","absChangeZ","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","obj","prop"],"sourceRoot":""}